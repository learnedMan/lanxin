(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-034c17d8"],{"185c":function(e,t,a){"use strict";a("6496")},6496:function(e,t,a){},7759:function(e,t,a){},c7e2:function(e,t,a){"use strict";a("7759")},db2a:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"system-sensitword"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0}},[a("el-form-item",{attrs:{label:"所属产品:"}},[a("el-select",{attrs:{placeholder:"请选择所属产品"},on:{change:e.handleQuery},model:{value:e.queryParams.sourceId,callback:function(t){e.$set(e.queryParams,"sourceId",t)},expression:"queryParams.sourceId"}},e._l(e.productLists,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",[a("el-button",{directives:[{name:"points",rawName:"v-points",value:1500,expression:"1500"}],attrs:{type:"primary",size:"mini"},on:{click:e.adddata}},[e._v("新增")])],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{"header-cell-style":{background:"#eef1f6",color:"#606266"},border:"",data:e.dataList}},[a("el-table-column",{attrs:{label:"检测类型",align:"center",prop:"terminalType","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e._f("formatTerminalType")(t.row.terminalType)))])]}}])}),a("el-table-column",{attrs:{label:"查询状态",align:"center",prop:"allowStatus","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e._f("formatAllowStatus")(t.row.allowStatus)))])]}}])}),a("el-table-column",{attrs:{label:"敏感词类型",align:"center",prop:"filterType","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e._f("formatFilterType")(t.row.filterType)))])]}}])}),a("el-table-column",{attrs:{label:"敏感词临界值",align:"center",prop:"sensitiveness"}}),a("el-table-column",{attrs:{width:"160px",label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("Iconbutton",{attrs:{icontype:"sc",label:"删除"},on:{fatherMethod:function(a){return e.handleDelete(t.row)}}})]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.totalCount>0,expression:"totalCount>0"}],attrs:{total:e.totalCount,page:e.queryParams.page,limit:e.queryParams.limit},on:{"update:page":function(t){return e.$set(e.queryParams,"page",t)},"update:limit":function(t){return e.$set(e.queryParams,"limit",t)},pagination:e.getList}}),a("el-dialog",{attrs:{width:"800px","close-on-click-modal":!1,title:e.dialogTitle,visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"dataForm",staticStyle:{"margin-left":"60px"},attrs:{model:e.form,rules:e.rules}},[a("el-form-item",{attrs:{"label-width":"120px",label:"检测类型",prop:"terminalType"}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:e.form.terminalType,callback:function(t){e.$set(e.form,"terminalType",t)},expression:"form.terminalType"}},e._l(e.terminalTypes,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{"label-width":"120px",label:"检测状态",prop:"allowStatus"}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:e.form.allowStatus,callback:function(t){e.$set(e.form,"allowStatus",t)},expression:"form.allowStatus"}},e._l(e.allowStatusLists,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{"label-width":"120px",label:"敏感词类型:",prop:"type"}},[a("el-radio-group",{attrs:{size:"small"},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},e._l(e.types,(function(t){return a("el-radio",{key:t.value,attrs:{label:t.value}},[e._v(e._s(t.label))])})),1)],1),a("el-form-item",{attrs:{"label-width":"120px",label:"敏感值临界值",prop:"sensitiveness"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{autocomplete:"off",placeholder:"请输入0-100正整数"},model:{value:e.form.sensitiveness,callback:function(t){e.$set(e.form,"sensitiveness",t)},expression:"form.sensitiveness"}})],1),"1"==this.form.terminalType?a("el-form-item",{attrs:{"label-width":"120px",label:"替换文本",prop:"replacetxt"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{autocomplete:"off",placeholder:"请输入替代文本"},model:{value:e.form.replacetxt,callback:function(t){e.$set(e.form,"replacetxt",t)},expression:"form.replacetxt"}})],1):e._e()],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{directives:[{name:"points",rawName:"v-points",value:1500,expression:"1500"}],on:{click:e.closeDialog}},[e._v("取 消")]),a("el-button",{directives:[{name:"points",rawName:"v-points",value:1500,expression:"1500"}],attrs:{type:"primary"},on:{click:e.enterDialog}},[e._v("确 定")])],1)],1)],1)},r=[],i=a("06c4"),o=a("e9ff"),s=(a("2eeb"),a("053b"),a("513c"),a("e186"),a("0fea")),n={name:"system-sensitword",data:function(){return{queryParams:{page:1,limit:10,sourceId:"",order:"desc"},loading:!0,dataList:[],productLists:[],terminalTypes:[{value:1,label:"评论"},{value:2,label:"问政"},{value:3,label:"分类问答"},{value:4,label:"搜索"},{value:5,label:"注册"},{value:6,label:"新闻"},{value:7,label:"镇街新闻"}],allowStatusLists:[{value:1,label:"禁止查询"},{value:2,label:"内容删除"},{value:3,label:"内容替换"},{value:4,label:"允许查询"}],types:[{value:"0",label:"正常"},{value:"1",label:"政治"},{value:"2",label:"色情"},{value:"3",label:"涉毒违法"},{value:"4",label:"谩骂"},{value:"5",label:"暴恐"},{value:"6",label:"综合"},{value:"7",label:"网络引流"},{value:"8",label:"综合"},{value:"9",label:"性感"},{value:"10",label:"灌水"},{value:"11",label:"垃圾信息"},{value:"12",label:"无意义"},{value:"13",label:"自定义"}],totalCount:0,dialogFormVisible:!1,form:{terminalType:"",allowStatus:"",type:"",sensitiveness:"",replacetxt:""},rules:{terminalType:[{required:!0,message:"请选择检测类型",trigger:"blur"}],allowStatus:[{required:!0,message:"请选择检测状态",trigger:"blur"}],type:[{required:!0,message:"请选择敏感词类型",trigger:"blur"}],sensitiveness:[{required:!0,message:"请输入敏感值临界值",trigger:"blur"}],replacetxt:[{required:!0,message:"请输入替换文本",trigger:"blur"}]},dialogType:"add",dialogTitle:""}},created:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getProductList();case 2:e.getList(),e.initForm();case 4:case"end":return t.stop()}}),t)})))()},filters:{formatAllowStatus:function(e){var t={1:"禁止查询",2:"内容删除",3:"内容替换",4:"允许查询"};return t[e]||""},formatTerminalType:function(e){var t={1:"评论",2:"问政",3:"分类问答",4:"搜索",5:"注册",6:"新闻",7:"镇街新闻"};return t[e]||""},formatFilterType:function(e){var t={0:"正常 ",1:"政治",2:"色情",3:"涉毒违法",4:"谩骂",5:"暴恐",6:"综合",7:"网络引流",8:"综合",9:"性感",10:"灌水",11:"垃圾信息",12:"无意义",13:"自定义"};return t[e]||""}},methods:{initcondition:function(){this.queryParams.keyword=""},handleQuery:function(){this.loading=!0,this.queryParams.page=1,this.getList()},getProductList:function(){var e=this;return Object(s["Xb"])({}).then((function(t){var a,l=t.data||[];e.productLists=l.map((function(e){return{label:e.name,value:e.source_id}})),e.queryParams.sourceId=null===l||void 0===l||null===(a=l[0])||void 0===a?void 0:a.source_id}))},getList:function(){var e=this;this.loading=!0,Object(s["Kb"])(this.queryParams).then((function(t){e.loading=!1,e.dataList=t.page.list,e.totalCount=t.page.totalCount}))},adddata:function(){this.initForm(),this.dialogTitle="新增敏感词",this.dialogType="add",this.dialogFormVisible=!0},initForm:function(){this.$refs.dataForm&&this.$refs.dataForm.resetFields()},handleEdit:function(e){var t=this;this.initForm(),this.dialogTitle="编辑敏感词",this.dialogType="edit";var a=Object(i["a"])(Object(i["a"])({},e),{},{type:String(e.filterType)});delete a.filterType,this.$nextTick((function(){t.form=JSON.parse(JSON.stringify(a))})),this.dialogFormVisible=!0},closeDialog:function(){this.initForm(),this.dialogFormVisible=!1},handleDelete:function(e){var t=this;this.$confirm("此操作将永久删除id为"+e.id+"的敏感词, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var a=[];a.push(e.id),Object(s["G"])(a).then((function(e){t.$message({message:"删除成功",type:"success"}),t.getList()}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},enterDialog:function(){var e=this;this.$refs["dataForm"].validate((function(t){if(t){e.form.sensitiveness=Number(e.form.sensitiveness);var a=Object(i["a"])(Object(i["a"])({},e.form),{},{appTypes:e.queryParams.sourceId+","});Object(s["g"])(e.removePropertyOfNullFor0(a)).then((function(t){e.$message({message:"新增成功",type:"success"}),e.dialogFormVisible=!1,e.getList()}))}}))}}},u=n,c=(a("c7e2"),a("185c"),a("cba8")),m=Object(c["a"])(u,l,r,!1,null,"f66781dc",null);t["default"]=m.exports}}]);