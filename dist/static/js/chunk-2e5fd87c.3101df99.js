(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2e5fd87c"],{"0418":function(e,t,a){},"05a7":function(e,t,a){e.exports=a.p+"static/img/1303.bee23dcf.png"},"158e":function(e,t,a){e.exports=a.p+"static/img/1401.e42ea08f.png"},"269f":function(e,t,a){e.exports=a.p+"static/img/1501.d7228911.png"},"28e4":function(e,t,a){"use strict";a("0418")},"297a":function(e,t,a){e.exports=a.p+"static/img/1603.99599f28.png"},"335d":function(e,t,a){e.exports=a.p+"static/img/tab栏.3ff75839.png"},"39ad":function(e,t,a){},"3fd3":function(e,t,a){e.exports=a.p+"static/img/1308.c114f5b2.png"},"4f6f":function(e,t,a){e.exports=a.p+"static/img/zanwu.aaf2488b.png"},"56b7":function(e,t,a){e.exports=a.p+"static/img/1001.6cc31847.png"},5718:function(e,t,a){e.exports=a.p+"static/img/1203.a562bfb8.png"},"5ac7":function(e,t,a){e.exports=a.p+"static/img/1105.a1299fec.png"},"65ff":function(e,t,a){e.exports=a.p+"static/img/1306.1bd423b8.png"},6967:function(e,t,a){e.exports=a.p+"static/img/1104.637fcb6a.png"},"748e":function(e,t,a){e.exports=a.p+"static/img/1601.40e18bcc.png"},"7d85":function(e,t,a){e.exports=a.p+"static/img/1002.216050a5.png"},"85e3":function(e,t,a){e.exports=a.p+"static/img/1304.d1773ad6.png"},"87cb":function(e,t,a){"use strict";a("39ad")},"8d80":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"column",staticStyle:{padding:"30px"}},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0}},[a("el-form-item",{attrs:{label:"产品："}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.queryParams.product_id,callback:function(t){e.$set(e.queryParams,"product_id",t)},expression:"queryParams.product_id"}},e._l(e.productList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),a("el-form-item",[a("el-button",{directives:[{name:"points",rawName:"v-points",value:1500,expression:"1500"}],attrs:{type:"primary",size:"mini"},on:{click:e.adddata}},[e._v("新增")])],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{"header-cell-style":{background:"#eef1f6",color:"#606266"},border:"",data:e.dataList,"row-key":"id","tree-props":{children:"children"}}},[a("el-table-column",{attrs:{label:"栏目名称",align:"left",prop:"name"}}),a("el-table-column",{attrs:{label:"栏目ID",align:"center",prop:"id","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"(模板化)栏目分类",align:"center",prop:"template_style","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return["product"==t.row.type?a("div",[e._v("无")]):a("div",[e._v(e._s(e.getstyle(t.row.template_style)))])]}}])}),a("el-table-column",{attrs:{label:"菜单分组",align:"center",prop:"group","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.getGroupoptions(t.row.group)))])]}}])}),a("el-table-column",{attrs:{label:"关联栏目",align:"center",prop:"linked_channel_id","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.getChannelName(t.row.linked_channel_id)))])]}}])}),e.isMobile?e._e():a("el-table-column",{attrs:{label:"排序",align:"center",prop:"sort","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"状态",align:"center",prop:"status","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{attrs:{disabled:"product"==t.row.type,placeholder:"请选择"},on:{change:function(a){return e.statuschange(t.row)}},model:{value:t.row.status,callback:function(a){e.$set(t.row,"status",a)},expression:"scope.row.status"}},e._l(e.statusoptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)]}}])}),e.isMobile?e._e():a("el-table-column",{attrs:{label:"更新时间",align:"center",prop:"updated_at","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"操作",align:"left",width:"360px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("Iconbutton",{attrs:{icontype:"xz",label:"新增"},on:{fatherMethod:function(a){return e.adddata(t.row)}}}),"product"!=t.row.type?a("Iconbutton",{attrs:{icontype:"xg",label:"修改"},on:{fatherMethod:function(a){return e.editdata(t.row)}}}):e._e(),"begin"!=t.row.b_sort?a("Iconbutton",{attrs:{icontype:"sy",label:"上移"},on:{fatherMethod:function(a){return e.move(t.$index,t.row,"up")}}}):e._e(),"end"!=t.row.e_sort?a("Iconbutton",{attrs:{icontype:"xy",label:"下移"},on:{fatherMethod:function(a){return e.move(t.$index,t.row,"down")}}}):e._e(),"product"!=t.row.type?a("Iconbutton",{attrs:{icontype:"sc",label:"删除"},on:{fatherMethod:function(a){return e.handleDelete(t.row)}}}):e._e()]}}])})],1),a("el-dialog",{attrs:{width:"1200px","close-on-click-modal":!1,title:e.dialogTitle,top:"10vh",visible:e.dialogFormVisible},on:{close:e.dialogclose,"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"dataForm",staticStyle:{display:"flex"},attrs:{model:e.form,rules:e.rules}},[a("div",{staticClass:"fl",staticStyle:{width:"50%"}},[a("el-form-item",{staticClass:"placeholderdiv",attrs:{"label-width":"150px",label:"上级栏目:",prop:"father"}},[a("el-cascader",{staticStyle:{width:"350px"},attrs:{"show-all-levels":!1,placeholder:e.form.placeholder,options:e.dataList,props:{emitPath:!1,checkStrictly:!0,value:"id",label:"name"},clearable:""},model:{value:e.form.father,callback:function(t){e.$set(e.form,"father",t)},expression:"form.father"}})],1),a("el-form-item",{attrs:{"label-width":"150px",label:"栏目名称:",prop:"name"}},[a("el-input",{staticStyle:{width:"350px"},attrs:{placeholder:"请输入栏目名称"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{"label-width":"150px",label:"栏目简介:",prop:"extra.intro"}},[a("el-input",{staticStyle:{width:"350px"},attrs:{placeholder:"请输入栏目简介",autosize:{minRows:4},type:"textarea"},model:{value:e.form.extra.intro,callback:function(t){e.$set(e.form.extra,"intro",t)},expression:"form.extra.intro"}})],1),a("el-form-item",{attrs:{"label-width":"150px",label:"栏目封面:",prop:"extra.cover"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.VUE_APP_BASE_API+"/api/upload/image",headers:e.importHeaders,name:"image","show-file-list":!1,"on-success":e.handleAvatarSuccess.bind(this,"cover"),"before-upload":e.beforeAvatarUpload}},[e.form.extra.cover?a("img",{staticClass:"avatar",attrs:{src:e.form.extra.cover}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"}),a("div",{directives:[{name:"show",rawName:"v-show",value:e.form.extra.cover,expression:"form.extra.cover"}],staticStyle:{"line-height":"30px",height:"30px"}},[a("span",{staticClass:"xl-cropper-icon",on:{click:function(t){return t.stopPropagation(),e.handleRemove("cover")}}},[a("i",{staticClass:"el-icon-delete"})])])])],1),a("el-form-item",{attrs:{"label-width":"150px",label:"栏目Logo:",prop:"extra.logo"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.VUE_APP_BASE_API+"/api/upload/image",headers:e.importHeaders,name:"image","show-file-list":!1,"on-success":e.handleAvatarSuccess.bind(this,"logo"),"before-upload":e.beforeAvatarUpload}},[e.form.extra.logo?a("img",{staticClass:"avatar",attrs:{src:e.form.extra.logo}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"}),a("div",{directives:[{name:"show",rawName:"v-show",value:e.form.extra.logo,expression:"form.extra.logo"}],staticStyle:{"line-height":"30px",height:"30px"}},[a("span",{staticClass:"xl-cropper-icon",on:{click:function(t){return t.stopPropagation(),e.handleRemove("logo")}}},[a("i",{staticClass:"el-icon-delete"})])])])],1),a("el-form-item",{attrs:{"el-form-item":"","label-width":"150px",label:"加载子栏目:",prop:"extra.load_child"}},[a("el-switch",{attrs:{"active-value":"1","inactive-value":"0"},model:{value:e.form.extra.load_child,callback:function(t){e.$set(e.form.extra,"load_child",t)},expression:"form.extra.load_child"}})],1),a("el-form-item",{attrs:{"el-form-item":"","label-width":"150px",label:"加载新闻:",prop:"extra.load_news"}},[a("el-switch",{attrs:{"active-value":"1","inactive-value":"0"},model:{value:e.form.extra.load_news,callback:function(t){e.$set(e.form.extra,"load_news",t)},expression:"form.extra.load_news"}})],1),a("el-form-item",{attrs:{"label-width":"150px",label:"关联栏目:",prop:"extra.linked_channel_id"}},[a("el-cascader",{staticStyle:{width:"350px"},attrs:{options:e.dataList,props:{checkStrictly:!0,value:"id",label:"name",emitPath:!1,multiple:!0},clearable:""},model:{value:e.form.extra.linked_channel_id,callback:function(t){e.$set(e.form.extra,"linked_channel_id",t)},expression:"form.extra.linked_channel_id"}})],1),a("el-form-item",{attrs:{"el-form-item":"","label-width":"150px",label:"(模板化)栏目:"}},[a("el-select",{attrs:{clearable:"",prop:"extra.template_style",placeholder:"请选择"},on:{change:e.catalogchange},model:{value:e.form.extra.template_style,callback:function(t){e.$set(e.form.extra,"template_style",t)},expression:"form.extra.template_style"}},e._l(e.catalogoptions,(function(e){return a("el-option",{key:e.id,attrs:{label:e.catalogName,value:""+e.catalogCode}})})),1)],1),a("el-form-item",{attrs:{"el-form-item":"","label-width":"150px",label:"(模板化)样式:",prop:"extra.template_json_id"}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:e.form.extra.template_json_id,callback:function(t){e.$set(e.form.extra,"template_json_id",t)},expression:"form.extra.template_json_id"}},e._l(e.styleoptions,(function(e){return a("el-option",{key:e.id,attrs:{label:e.styleName,value:e.id}})})),1),e.form.extra.template_json_id?a("el-button",{directives:[{name:"points",rawName:"v-points",value:1500,expression:"1500"}],staticStyle:{"margin-left":"10px"},on:{click:e.yulanfn}},[e._v("预览")]):e._e()],1),a("el-form-item",{attrs:{"label-width":"150px",label:"排序(权重):",prop:"sort"}},[a("el-input",{staticStyle:{width:"350px"},attrs:{placeholder:"请输入排序(权重)"},model:{value:e.form.sort,callback:function(t){e.$set(e.form,"sort",t)},expression:"form.sort"}})],1),a("el-form-item",{attrs:{"el-form-item":"","label-width":"150px",label:"菜单分组:",prop:"extra.group"}},[a("el-select",{attrs:{placeholder:"请选择",clearable:""},model:{value:e.form.extra.group,callback:function(t){e.$set(e.form.extra,"group",t)},expression:"form.extra.group"}},e._l(e.groupoptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{"label-width":"150px",label:"展示条数:",prop:"extra.show_num"}},[a("el-input",{staticStyle:{width:"350px"},attrs:{placeholder:"请输入展示条数"},model:{value:e.form.extra.show_num,callback:function(t){e.$set(e.form.extra,"show_num",t)},expression:"form.extra.show_num"}})],1),a("el-form-item",{attrs:{"el-form-item":"","label-width":"150px",label:"是否启用:",prop:"status"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.statusoptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),a("div",{staticClass:"fr",staticStyle:{width:"50%"}},[a("el-form-item",{attrs:{"el-form-item":"","label-width":"150px",label:"栏目类型:",prop:"type"}},[a("el-select",{attrs:{placeholder:"请选择"},on:{change:e.changetype},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},e._l(e.columntypeoptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),e.forceRefresh?a("child-page1",{directives:[{name:"show",rawName:"v-show",value:"default"==e.form.type||"algo"==e.form.type||"video_waterfall"==e.form.type||"video_landscape"==e.form.type||"subscription"==e.form.type||"topic"==e.form.type||"matrix"==e.form.type,expression:"form.type=='default'||form.type=='algo'||form.type=='video_waterfall'||form.type=='video_landscape'||form.type=='subscription'||form.type=='topic'||form.type=='matrix'"}],ref:"c_page1",attrs:{userdata:e.userdata,form:e.form},model:{value:e.form,callback:function(t){e.form=t},expression:"form"}}):e._e(),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"service"==e.form.type,expression:"form.type=='service'"}],attrs:{"label-width":"150px",label:"服务背景图:",prop:"extra.background"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.VUE_APP_BASE_API+"/api/upload/image",headers:e.importHeaders,name:"image","show-file-list":!1,"on-success":e.handleAvatarSuccess.bind(this,"background"),"before-upload":e.beforeAvatarUpload}},[e.form.extra.background?a("img",{staticClass:"avatar",attrs:{src:e.form.extra.background}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"service"==e.form.type,expression:"form.type=='service'"}],attrs:{"label-width":"150px",label:"模块类型:",prop:"extra.template"}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:e.form.extra.template,callback:function(t){e.$set(e.form.extra,"template",t)},expression:"form.extra.template"}},e._l(e.moduleoption,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"service"==e.form.type,expression:"form.type=='service'"}],attrs:{"label-width":"150px",label:"链接类型:",prop:"extra.link.type"}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:e.form.extra.link.type,callback:function(t){e.$set(e.form.extra.link,"type",t)},expression:"form.extra.link.type"}},e._l(e.linktypeoption,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"topic"==e.form.type,expression:"form.type=='topic'"}],attrs:{"label-width":"150px",label:"专题类型:",prop:"extra.topic_type"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.extra.topic_type,callback:function(t){e.$set(e.form.extra,"topic_type",t)},expression:"form.extra.topic_type"}},e._l(e.topicoption,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),"service"==e.form.type&&"app_redirect"==e.form.extra.link.type?a("div",["outer_link"==e.form.type||"auth_link"==e.form.type||"service"==e.form.type?a("el-form-item",{attrs:{"label-width":"150px",label:"链接地址:",prop:"extra.link.url"}},[a("el-input",{staticStyle:{width:"350px"},attrs:{placeholder:"请输入栏目名称"},model:{value:e.form.extra.link.id,callback:function(t){e.$set(e.form.extra.link,"id",t)},expression:"form.extra.link.id"}})],1):a("div")],1):a("div",["outer_link"==e.form.type||"auth_link"==e.form.type||"service"==e.form.type?a("el-form-item",{attrs:{"label-width":"150px",label:"链接地址:",prop:"extra.link.url"}},[a("el-input",{staticStyle:{width:"350px"},attrs:{placeholder:"请输入栏目名称"},model:{value:e.form.extra.link.url,callback:function(t){e.$set(e.form.extra.link,"url",t)},expression:"form.extra.link.url"}})],1):e._e()],1)],1)]),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{directives:[{name:"points",rawName:"v-points",value:1500,expression:"1500"}],on:{click:e.closeDialog}},[e._v("取 消")]),a("el-button",{directives:[{name:"points",rawName:"v-points",value:1500,expression:"1500"}],attrs:{type:"primary"},on:{click:e.enterDialog}},[e._v("确 定")])],1)],1)],1)},r=[],o=a("8955"),i=(a("08ba"),a("e35a"),a("0d7a"),a("e18c"),a("1c2e"),a("9302"),a("4194"),a("2eeb"),a("053b"),a("77ad"),a("08d5"),a("513c"),a("b49d")),s=a("0fea"),n=a("56b7"),c=a.n(n),p=a("7d85"),u=a.n(p),m=a("d4ba"),d=a.n(m),f=a("fae2"),h=a.n(f),v=a("b041"),b=a.n(v),g=a("6967"),_=a.n(g),x=a("5ac7"),y=a.n(x),w=a("bb22"),k=a.n(w),$=a("9099"),S=a.n($),j=a("5718"),C=a.n(j),N=a("b535"),P=a.n(N),O=a("bcb4"),A=a.n(O),L=a("ca5e"),I=a.n(L),F=a("05a7"),V=a.n(F),q=a("85e3"),T=a.n(q),U=a("9a0a"),E=a.n(U),z=a("65ff"),M=a.n(z),R=a("f429"),J=a.n(R),B=a("3fd3"),D=a.n(B),H=a("158e"),G=a.n(H),X=a("f362"),K=a.n(X),Q=a("d7ee"),W=a.n(Q),Y=a("269f"),Z=a.n(Y),ee=a("748e"),te=a.n(ee),ae=a("ed76"),le=a.n(ae),re=a("297a"),oe=a.n(re),ie=a("335d"),se=a.n(ie),ne=a("4f6f"),ce=a.n(ne),pe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"childpage1"},[a("el-dialog",{ref:"indialog",attrs:{"close-on-click-modal":!1,"append-to-body":"",title:"编辑审核人",visible:e.dialogVisible,width:"800px"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("div",{staticStyle:{"margin-bottom":"20px"}},[a("el-button",{directives:[{name:"points",rawName:"v-points",value:1500,expression:"1500"}],attrs:{type:"primary",size:"mini"},on:{click:e.addtransfer}},[e._v("增加一级审核人")]),a("el-button",{directives:[{name:"points",rawName:"v-points",value:1500,expression:"1500"}],attrs:{disabled:e.listnum<1,type:"primary",size:"mini"},on:{click:e.deltransfer}},[e._v("删除一级审核人")])],1),e._l(e.listnum,(function(t,l){return[a("h3",[e._v("第"+e._s(l+1)+"级审核人：")]),a("el-transfer",{staticStyle:{display:"flex","justify-content":"center","align-items":"center","margin-bottom":"20px"},attrs:{titles:["用户列表","审核人列表"],filterable:"","filter-method":e.filterMethod,"filter-placeholder":"请输入审核人姓名",data:e.userdata},model:{value:e.c_form.extra.multi_review[l],callback:function(t){e.$set(e.c_form.extra.multi_review,l,t)},expression:"c_form.extra.multi_review[index]"}})]})),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{directives:[{name:"points",rawName:"v-points",value:1500,expression:"1500"}],attrs:{type:"primary"},on:{click:e.suretransfer}},[e._v("确 定")])],1)],2),a("el-form-item",{attrs:{"label-width":"150px",label:"多级审核:",prop:"extra.defaultform"}},[a("el-button",{directives:[{name:"points",rawName:"v-points",value:1500,expression:"1500"}],attrs:{type:"primary",size:"mini"},on:{click:e.edituser}},[e._v("编辑审核人")]),e._l(e.listshowarr,(function(t,l){return a("div",{key:l},[a("h4",[a("span",{staticStyle:{color:"#000"}},[e._v("第"+e._s(l+1)+"级审核人：")]),e._v(e._s(t))])])}))],2),a("el-form-item",{attrs:{"label-width":"150px",label:"显示更多:",prop:"extra.display_more"}},[a("el-radio-group",{model:{value:e.c_form.extra.display_more,callback:function(t){e.$set(e.c_form.extra,"display_more",t)},expression:"c_form.extra.display_more"}},[a("el-radio",{attrs:{label:"1"}},[e._v("显示")]),a("el-radio",{attrs:{label:"0"}},[e._v("不显示")])],1)],1),a("el-form-item",{attrs:{"label-width":"150px",label:"显示标题:",prop:"extra.display_title"}},[a("el-radio-group",{model:{value:e.c_form.extra.display_title,callback:function(t){e.$set(e.c_form.extra,"display_title",t)},expression:"c_form.extra.display_title"}},[a("el-radio",{attrs:{label:"1"}},[e._v("显示")]),a("el-radio",{attrs:{label:"0"}},[e._v("不显示")])],1)],1)],1)},ue=[],me={name:"ChildPage1",props:{value:{type:Object,default:{}},userdata:{type:Array,default:{}}},data:function(){return{dialogVisible:!1,listnum:1,listshowarr:[],p_flag:!1}},created:function(){},computed:{c_form:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}},methods:{addtransfer:function(){this.listnum++,this.c_form.extra.multi_review.length=this.listnum;for(var e=0;e<this.c_form.extra.multi_review.length;e++)this.c_form.extra.multi_review[e]||(this.c_form.extra.multi_review[e]=[]);console.log(this.c_form.extra.multi_review)},deltransfer:function(){this.listnum>=1?this.listnum--:this.$message({message:"已经没有了",type:"warning"}),this.c_form.extra.multi_review.length=this.listnum;for(var e=0;e<this.c_form.extra.multi_review.length;e++)this.c_form.extra.multi_review[e]||(this.c_form.extra.multi_review[e]=[]);console.log(this.c_form.extra.multi_review)},edituser:function(){this.dialogVisible=!0},filterMethod:function(e,t){return t.pinyin.indexOf(e)>-1},suretransfer:function(){console.log(this.c_form.extra.multi_review);for(var e=0;e<this.c_form.extra.multi_review.length;e++)if(0==this.c_form.extra.multi_review[e].length)return void this.$message({message:"第".concat(e+1,"级审核为空，请保证每一级审核都有审核人"),type:"warning"});this.dialogVisible=!1,this.listshowarr.length=this.c_form.extra.multi_review.length,this.showtxt()},showtxt:function(){for(var e=0;e<this.c_form.extra.multi_review.length;e++)this.listshowarr[e]=[];for(e=0;e<this.c_form.extra.multi_review.length;e++)for(var t=0;t<this.c_form.extra.multi_review[e].length;t++)for(var a=0;a<this.userdata.length;a++)this.c_form.extra.multi_review[e][t]==this.userdata[a].key&&(this.listshowarr[e][t]=this.userdata[a].label);this.$forceUpdate()}}},de=me,fe=a("cba8"),he=Object(fe["a"])(de,pe,ue,!1,null,"48470d63",null),ve=he.exports,be={name:"column",components:{ChildPage1:ve,Cropper:i["a"]},data:function(){var e=sessionStorage.getItem("token");return{mbhimg:{1001:c.a,1002:u.a,1101:d.a,1102:h.a,1103:b.a,1104:_.a,1105:y.a,1201:k.a,1202:S.a,1203:C.a,1204:P.a,1301:A.a,1302:I.a,1303:V.a,1304:T.a,1305:E.a,1306:M.a,1307:J.a,1308:D.a,1401:G.a,1402:K.a,1403:W.a,1501:Z.a,1601:te.a,1602:le.a,1603:oe.a,"tab栏":se.a,zanwu:ce.a},forceRefresh:!1,userdata:[],importHeaders:{Authorization:e},queryParams:{product_id:"",with_special_channels:"topic"},catalogid:"",productList:{},sourceId:"",statusoptions:[{value:1,label:"启用"},{value:0,label:"禁用"}],moduleoption:[{value:"top",label:"顶部卡片"},{value:"recommend",label:"推荐"},{value:"category",label:"分类"}],topicoption:[{value:"1",label:"简单聚合"},{value:"2",label:"多模块聚合"}],linktypeoption:[{value:"outer_link",label:"外链"},{value:"auth_link",label:"授权外链"},{value:"app_redirect",label:"app跳转"},{value:"third_party_app_redirect",label:"三方app跳转"},{value:"hyg_auth",label:"好易购授权"},{value:"hyg_force_auth",label:"好易购强制授权"}],groupoptions:[{value:"home",label:"首页"},{value:"video",label:"视频"},{value:"v_channel",label:"视听"},{value:"service",label:"服务"},{value:"interact",label:"互动"},{value:"live",label:"直播"},{value:"mall",label:"商城"},{value:"practice",label:"文明实践"},{value:"ask_politics",label:"问政"},{value:"community",label:"社区"},{value:"education",label:"教育"},{value:"activity",label:"活动"}],catalogoptions:[],styleoptions:[],columntypeoptions:[{value:"default",label:"默认"},{value:"topic",label:"专题"},{value:"matrix",label:"矩阵"},{value:"matrix_intro",label:"矩阵简介"},{value:"video_waterfall",label:"视频瀑布流"},{value:"video_landscape",label:"横版视频"},{value:"subscription",label:"订阅类型"},{value:"service",label:"服务"},{value:"outer_link",label:"外链"},{value:"auth_link",label:"授权外链"},{value:"tv",label:"电视"},{label:"电视+点播",value:"tv_and_vod"},{value:"radio",label:"广播"},{value:"two_col",label:"二列列表"},{value:"multi_layer",label:"多层级"},{value:"multi_layer2",label:"多层级二"},{value:"map_matrix",label:"地图矩阵"},{value:"float",label:"悬浮球"},{value:"vod_list",label:"视频点播列表"},{value:"community",label:"社区"},{value:"algo",label:"新蓝算法"}],medias:[{value:"新闻",label:"news"},{value:"视频",label:"video"},{value:"图集",label:"album"}],checkedmedias:[],loading:!0,dataList:[],dialogFormVisible:!1,form:{},rules:{father:[{required:!0,message:"请选择上级栏目",trigger:"blur"}],name:[{required:!0,message:"请输入栏目名称",trigger:"blur"}],"extra.show_num":[{required:!0,message:"请输入展示条数",trigger:"blur"}],type:[{required:!0,message:"请选择栏目类型",trigger:"blur"}],status:[{required:!0,message:"请选择是否启用",trigger:"blur"}]},dialogType:"add",dialogTitle:""}},computed:{VUE_APP_BASE_API:function(){return this.imgurl2},productId:function(){return this.queryParams.product_id}},created:function(){var e=this;this.initForm(),this.getproductList(),this.getuserfn(),Object(s["A"])().then((function(t){e.catalogoptions=t.data.list}))},watch:{productId:function(e){var t=this;this.productList.forEach((function(a){e==a.id&&(t.sourceId=a.source_id)})),this.getList()}},methods:{parseObj:function(e){var t=e.key.split("."),a=t.reduce((function(e,t){return e[t]}),this.from);return"select"===e.component?a&&a.toString().split(","):a},handleInput:function(e,t){var a=t.key.split("."),l=t.type||"string";"number"===l&&(e=parseInt(e)||""),a.reduce((function(l,r){if(r!==a[a.length-1])return l[r];l[r]="select"===t.component?e.join():e}),this.from)},handleRemove:function(e){this.form.extra[e]="",this.$forceUpdate()},yulanfn:function(){window.open(this.viewurl+this.form.extra.template_json_id)},catalogchange:function(){var e=this;if(this.form.extra.template_style){this.styleoptions=[],this.form.extra.template_json_id="";var t={catalogCode:this.form.extra.template_style,sourceId:this.sourceId};Object(s["pc"])(t).then((function(t){console.log(t),e.styleoptions=t.data||[]}))}},getstyle:function(e){if(!e)return"无";for(var t=0;t<this.catalogoptions.length;t++)if(e==this.catalogoptions[t].catalogCode)return this.catalogoptions[t].catalogName},getGroupoptions:function(e){var t=this.groupoptions.find((function(t){return t.value===e}));return(null===t||void 0===t?void 0:t.label)||""},getChannelName:function(e){if(!e.length)return"";var t="";return e.map((function(e){t+=e.name+","})),t.slice(0,-1)},getuserfn:function(){var e=this,t={model:"User"},a={page:1,pageSize:999};Object(s["Ob"])(Object.assign(t,a)).then((function(t){t.data.forEach((function(t,a){e.userdata.push({label:t.name,key:t.id,pinyin:t.name})})),e.forceRefresh=!0}))},initForm:function(){this.$refs.dataForm&&this.$refs.dataForm.resetFields(),this.form={type:"default",father:"",name:"",sort:0,status:1,extra:{intro:"",cover:"",logo:"",allow_news_types:[],load_child:"1",load_news:"1",linked_channel_id:[],template_style:"",template_json_id:"",template_json:{},show_num:20,group:"",multi_review:[],display_more:"",display_title:"",topic_type:"1",background:"",link:{type:"",url:"",id:""},template:""}}},changetype:function(){var e=this;"default"==this.form.type&&this.$nextTick((function(){e.$refs.c_page1.showtxt()}))},handleAvatarSuccess:function(e,t){this.form.extra[e]=t.path,this.$forceUpdate()},beforeAvatarUpload:function(e){var t=e.size/1024/1024<20;return t||this.$message.error("上传头像图片大小不能超过 20MB!"),t},statuschange:function(e){var t=this;Object(s["gb"])(e.id,e).then((function(e){t.$message({message:"修改成功",type:"success"}),t.getList()}))},getproductList:function(){var e=this;Object(s["Xb"])({}).then((function(t){e.productList=t.data,e.queryParams.product_id=e.productList[0].id}))},getList:function(){var e=this;this.loading=!0,Object(s["vb"])(this.queryParams).then((function(t){function a(e){for(var t=0;t<e.length;t++)0==t&&(e[t].b_sort="begin"),t==e.length-1&&(e[t].e_sort="end"),e[t].children&&0!=e[t].children.length&&a(e[t].children)}e.loading=!1,e.dataList=t,a(e.dataList)}))},move:function(e,t,a){var l,r=this,i=t.id,n=t.sort,c="",p="";function u(e,t,a){for(var l=0;l<e.length;l++)e[l].id==t?"up"==a?(c=e[l-1].id,p=e[l-1].sort):(c=e[l+1].id,p=e[l+1].sort):e[l].children&&0!=e[l].children.length&&u(e[l].children,t,a)}u(this.dataList,i,a);var m=(l={},Object(o["a"])(l,i,p),Object(o["a"])(l,c,n),l);Object(s["oc"])(m).then((function(e){r.$message({message:"修改成功",type:"success"}),r.getList()}))},dialogclose:function(){this.$refs.c_page1.listshowarr=[]},adddata:function(e){var t=this;this.initForm(),this.forceRefresh=!1,this.$nextTick((function(){t.forceRefresh=!0})),this.form.father=[e.id]||!1,this.form.placeholder=e.name||"",this.dialogTitle="新增栏目",this.dialogType="add",this.dialogFormVisible=!0},editdata:function(e){var t=this;this.initForm(),this.catalogid="",this.dialogTitle="编辑栏目",this.dialogType="edit",Object(s["Ub"])(e.id).then((function(e){var a=t.form.extra;t.form=JSON.parse(JSON.stringify(e)),t.form.extra=Object.assign(a,t.form.extra);var l=[],r=t.form.extra.multi_review||[];console.log(t.form);for(var o=0;o<r.length;o++){l[o]=[],l[o]=r[o].reviewer_ids.split(",");for(var i=0;i<l[o].length;i++)l[o][i]=parseInt(l[o][i])}if(t.form.extra.multi_review=l,t.form.extra.linked_channel_id=t.form.extra.linked_channel_id.length?t.form.extra.linked_channel_id.split(","):[],t.form.extra.cover=t.form.extra.cover?t.form.extra.cover[0].path:"",t.dialogFormVisible=!0,t.$nextTick((function(){t.$refs.c_page1.showtxt(),t.$refs.c_page1.listnum=l.length})),t.form.extra.template_style){var s=t.form.extra.template_json_id?Number(t.form.extra.template_json_id):"";t.catalogchange(),t.form.extra.template_json_id=s}}))},handleDelete:function(e){var t=this;this.$confirm("此操作将永久删除id为"+e.id+"的栏目, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(s["J"])(e.id).then((function(e){t.$message({message:"删除成功",type:"success"}),t.getList()}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},closeDialog:function(){this.initForm(),this.dialogFormVisible=!1},enterDialog:function(){var e=this;this.$refs["dataForm"].validate((function(t){if(t){var a=JSON.parse(JSON.stringify(e.form));if(a.father=Number(a.father),a.extra.linked_channel_id.length){var l=a.extra.linked_channel_id||[],r="";l.map((function(e){r+=e+","})),a.extra.linked_channel_id=r.slice(0,-1)}for(var o=a.extra.multi_review,i=[],n=0;n<o.length;n++)i[n]={},i[n].sort=n+1,i[n].status=0,i[n].reviewer_ids=o[n].join();if(a.extra.multi_review=i,a.extra.cover=[{path:a.extra.cover,intro:""}],a.extra.template_json_id)for(n=0;n<e.styleoptions.length;n++)e.styleoptions[n].id==a.extra.template_json_id&&(a.extra.template_json=e.styleoptions[n].styleJson);console.log(a),"edit"==e.dialogType?Object(s["gb"])(a.id,a).then((function(t){e.$message({message:"修改成功",type:"success"}),e.dialogFormVisible=!1,e.getList()})):Object(s["k"])(a).then((function(t){e.$message({message:"新增成功",type:"success"}),e.dialogFormVisible=!1,e.getList()}))}}))}}},ge=be,_e=(a("28e4"),a("87cb"),Object(fe["a"])(ge,l,r,!1,null,"1c3fbc1b",null));t["default"]=_e.exports},9099:function(e,t,a){e.exports=a.p+"static/img/1202.47f7e41f.png"},"9a0a":function(e,t,a){e.exports=a.p+"static/img/1305.b430aa52.png"},b041:function(e,t,a){e.exports=a.p+"static/img/1103.4e77ee29.png"},b535:function(e,t,a){e.exports=a.p+"static/img/1204.afdb2cf5.png"},bb22:function(e,t,a){e.exports=a.p+"static/img/1201.1a4252b6.png"},bcb4:function(e,t,a){e.exports=a.p+"static/img/1301.50be83bb.png"},ca5e:function(e,t,a){e.exports=a.p+"static/img/1302.fb6ce92a.png"},d4ba:function(e,t,a){e.exports=a.p+"static/img/1101.7acbd020.png"},d7ee:function(e,t,a){e.exports=a.p+"static/img/1403.3d6db03a.png"},ed76:function(e,t,a){e.exports=a.p+"static/img/1602.e912b831.png"},f362:function(e,t,a){e.exports=a.p+"static/img/1402.38c09933.png"},f429:function(e,t,a){e.exports=a.p+"static/img/1307.2da40a93.png"},fae2:function(e,t,a){e.exports=a.p+"static/img/1102.a4a6ad15.png"}}]);