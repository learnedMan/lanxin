(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4a04c302"],{"05a7":function(e,t,a){e.exports=a.p+"static/img/1303.bee23dcf.png"},"158e":function(e,t,a){e.exports=a.p+"static/img/1401.e42ea08f.png"},"1ad2":function(e,t,a){"use strict";a("7e0f")},"269f":function(e,t,a){e.exports=a.p+"static/img/1501.d7228911.png"},"28e4":function(e,t,a){"use strict";a("4b83")},"297a":function(e,t,a){e.exports=a.p+"static/img/1603.99599f28.png"},"335d":function(e,t,a){e.exports=a.p+"static/img/tab栏.3ff75839.png"},"3fd3":function(e,t,a){e.exports=a.p+"static/img/1308.c114f5b2.png"},"4b83":function(e,t,a){},"4f6f":function(e,t,a){e.exports=a.p+"static/img/zanwu.aaf2488b.png"},"56b7":function(e,t,a){e.exports=a.p+"static/img/1001.6cc31847.png"},5718:function(e,t,a){e.exports=a.p+"static/img/1203.a562bfb8.png"},"5ac7":function(e,t,a){e.exports=a.p+"static/img/1105.a1299fec.png"},"65ff":function(e,t,a){e.exports=a.p+"static/img/1306.1bd423b8.png"},6967:function(e,t,a){e.exports=a.p+"static/img/1104.637fcb6a.png"},"748e":function(e,t,a){e.exports=a.p+"static/img/1601.40e18bcc.png"},"7d852":function(e,t,a){e.exports=a.p+"static/img/1002.216050a5.png"},"7e0f":function(e,t,a){},"85e3":function(e,t,a){e.exports=a.p+"static/img/1304.d1773ad6.png"},"8d80":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"column",staticStyle:{padding:"30px"}},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0}},[a("el-form-item",{attrs:{label:"产品："}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.queryParams.product_id,callback:function(t){e.$set(e.queryParams,"product_id",t)},expression:"queryParams.product_id"}},e._l(e.productList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),a("el-form-item",[a("el-button",{directives:[{name:"points",rawName:"v-points",value:1500,expression:"1500"}],attrs:{type:"primary",size:"mini"},on:{click:e.adddata}},[e._v("新增")])],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{"header-cell-style":{background:"#eef1f6",color:"#606266"},border:"",data:e.dataList,"row-key":"id","tree-props":{children:"children"}}},[a("el-table-column",{attrs:{label:"栏目名称",align:"left",prop:"name"}}),a("el-table-column",{attrs:{label:"栏目ID",align:"center",prop:"id","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"(模板化)栏目分类",align:"center",prop:"template_style","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return["product"==t.row.type?a("div",[e._v("无")]):a("div",[e._v(e._s(e.getstyle(t.row.template_style)))])]}}])}),a("el-table-column",{attrs:{label:"菜单分组",align:"center",prop:"group","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.getGroupoptions(t.row.group)))])]}}])}),a("el-table-column",{attrs:{label:"关联栏目",align:"center",prop:"linked_channel_id","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.getChannelName(t.row.linked_channel_id)))])]}}])}),e.isMobile?e._e():a("el-table-column",{attrs:{label:"排序",align:"center",prop:"sort","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"状态",align:"center",prop:"status","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{attrs:{disabled:"product"==t.row.type,placeholder:"请选择"},on:{change:function(a){return e.statuschange(t.row)}},model:{value:t.row.status,callback:function(a){e.$set(t.row,"status",a)},expression:"scope.row.status"}},e._l(e.statusoptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)]}}])}),e.isMobile?e._e():a("el-table-column",{attrs:{label:"更新时间",align:"center",prop:"updated_at","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"操作",align:"left",width:"360px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("Iconbutton",{attrs:{icontype:"xz",label:"新增"},on:{fatherMethod:function(a){return e.adddata(t.row)}}}),"product"!=t.row.type?a("Iconbutton",{attrs:{icontype:"xg",label:"修改"},on:{fatherMethod:function(a){return e.editdata(t.row)}}}):e._e(),"begin"!=t.row.b_sort?a("Iconbutton",{attrs:{icontype:"sy",label:"上移"},on:{fatherMethod:function(a){return e.move(t.$index,t.row,"up")}}}):e._e(),"end"!=t.row.e_sort?a("Iconbutton",{attrs:{icontype:"xy",label:"下移"},on:{fatherMethod:function(a){return e.move(t.$index,t.row,"down")}}}):e._e(),"product"!=t.row.type?a("Iconbutton",{attrs:{icontype:"sc",label:"删除"},on:{fatherMethod:function(a){return e.handleDelete(t.row)}}}):e._e()]}}])})],1),a("el-dialog",{attrs:{width:"1200px","close-on-click-modal":!1,title:e.dialogTitle,top:"10vh",visible:e.dialogFormVisible},on:{close:e.dialogclose,"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"dataForm",staticStyle:{display:"flex"},attrs:{model:e.form,rules:e.rules}},[a("div",{staticClass:"fl",staticStyle:{width:"50%"}},[a("el-form-item",{staticClass:"placeholderdiv",attrs:{"label-width":"150px",label:"上级栏目:",prop:"father"}},[a("el-cascader",{staticStyle:{width:"350px"},attrs:{"show-all-levels":!1,placeholder:e.form.placeholder,options:e.dataList,props:{emitPath:!1,checkStrictly:!0,value:"id",label:"name"},clearable:""},model:{value:e.form.father,callback:function(t){e.$set(e.form,"father",t)},expression:"form.father"}})],1),a("el-form-item",{attrs:{"label-width":"150px",label:"栏目名称:",prop:"name"}},[a("el-input",{staticStyle:{width:"350px"},attrs:{placeholder:"请输入栏目名称"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{"label-width":"150px",label:"栏目简介:",prop:"extra.intro"}},[a("el-input",{staticStyle:{width:"350px"},attrs:{placeholder:"请输入栏目简介",autosize:{minRows:4},type:"textarea"},model:{value:e.form.extra.intro,callback:function(t){e.$set(e.form.extra,"intro",t)},expression:"form.extra.intro"}})],1),a("el-form-item",{attrs:{"label-width":"150px",label:"栏目封面:",prop:"extra.cover"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.VUE_APP_BASE_API+"/api/upload/image",headers:e.importHeaders,name:"image","show-file-list":!1,"on-success":e.handleAvatarSuccess.bind(this,"cover"),"before-upload":e.beforeAvatarUpload}},[e.form.extra.cover?a("img",{staticClass:"avatar",attrs:{src:e.form.extra.cover}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"}),a("div",{directives:[{name:"show",rawName:"v-show",value:e.form.extra.cover,expression:"form.extra.cover"}],staticStyle:{"line-height":"30px",height:"30px"}},[a("span",{staticClass:"xl-cropper-icon",on:{click:function(t){return t.stopPropagation(),e.handleRemove("cover")}}},[a("i",{staticClass:"el-icon-delete"})])])])],1),a("el-form-item",{attrs:{"label-width":"150px",label:"栏目Logo:",prop:"extra.logo"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.VUE_APP_BASE_API+"/api/upload/image",headers:e.importHeaders,name:"image","show-file-list":!1,"on-success":e.handleAvatarSuccess.bind(this,"logo"),"before-upload":e.beforeAvatarUpload}},[e.form.extra.logo?a("img",{staticClass:"avatar",attrs:{src:e.form.extra.logo}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"}),a("div",{directives:[{name:"show",rawName:"v-show",value:e.form.extra.logo,expression:"form.extra.logo"}],staticStyle:{"line-height":"30px",height:"30px"}},[a("span",{staticClass:"xl-cropper-icon",on:{click:function(t){return t.stopPropagation(),e.handleRemove("logo")}}},[a("i",{staticClass:"el-icon-delete"})])])])],1),a("el-form-item",{attrs:{"el-form-item":"","label-width":"150px",label:"加载子栏目:",prop:"extra.load_child"}},[a("el-switch",{attrs:{"active-value":"1","inactive-value":"0"},model:{value:e.form.extra.load_child,callback:function(t){e.$set(e.form.extra,"load_child",t)},expression:"form.extra.load_child"}})],1),a("el-form-item",{attrs:{"el-form-item":"","label-width":"150px",label:"加载新闻:",prop:"extra.load_news"}},[a("el-switch",{attrs:{"active-value":"1","inactive-value":"0"},model:{value:e.form.extra.load_news,callback:function(t){e.$set(e.form.extra,"load_news",t)},expression:"form.extra.load_news"}})],1),a("el-form-item",{attrs:{"label-width":"150px",label:"关联类型:",prop:"extra.channel_link_type"}},[a("el-radio-group",{on:{change:e.channelTypeChange},model:{value:e.form.extra.channel_link_type,callback:function(t){e.$set(e.form.extra,"channel_link_type",t)},expression:"form.extra.channel_link_type"}},[a("el-radio",{attrs:{label:""}},[e._v("不关联")]),a("el-radio",{attrs:{label:"union"}},[e._v("聚合关联（一对多）")]),a("el-radio",{attrs:{label:"map"}},[e._v("推荐关联（多对一）")])],1)],1),"union"==e.form.extra.channel_link_type||"map"==e.form.extra.channel_link_type?a("el-form-item",{attrs:{"label-width":"150px",label:"关联栏目:",prop:"extra.linked_channel_id"}},[a("el-cascader",{staticStyle:{width:"350px"},attrs:{options:e.dataList,props:e.columnSetting,clearable:""},model:{value:e.form.extra.linked_channel_id,callback:function(t){e.$set(e.form.extra,"linked_channel_id",t)},expression:"form.extra.linked_channel_id"}})],1):e._e(),a("el-form-item",{attrs:{"el-form-item":"","label-width":"150px",label:"(模板化)栏目:"}},[a("el-select",{attrs:{clearable:"",prop:"extra.template_style",placeholder:"请选择"},on:{change:e.catalogchange},model:{value:e.form.extra.template_style,callback:function(t){e.$set(e.form.extra,"template_style",t)},expression:"form.extra.template_style"}},e._l(e.catalogoptions,(function(e){return a("el-option",{key:e.id,attrs:{label:e.catalogName,value:""+e.catalogCode}})})),1)],1),a("el-form-item",{attrs:{"el-form-item":"","label-width":"150px",label:"(模板化)样式:",prop:"extra.template_json_id"}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:e.form.extra.template_json_id,callback:function(t){e.$set(e.form.extra,"template_json_id",t)},expression:"form.extra.template_json_id"}},e._l(e.styleoptions,(function(e){return a("el-option",{key:e.id,attrs:{label:e.styleName,value:e.id}})})),1),e.form.extra.template_json_id?a("el-button",{directives:[{name:"points",rawName:"v-points",value:1500,expression:"1500"}],staticStyle:{"margin-left":"10px"},on:{click:e.yulanfn}},[e._v("预览")]):e._e()],1),a("el-form-item",{attrs:{"label-width":"150px",label:"排序(权重):",prop:"sort"}},[a("el-input",{staticStyle:{width:"350px"},attrs:{placeholder:"请输入排序(权重)"},model:{value:e.form.sort,callback:function(t){e.$set(e.form,"sort",t)},expression:"form.sort"}})],1),a("el-form-item",{attrs:{"el-form-item":"","label-width":"150px",label:"菜单分组:",prop:"extra.group"}},[a("el-select",{attrs:{placeholder:"请选择",clearable:""},model:{value:e.form.extra.group,callback:function(t){e.$set(e.form.extra,"group",t)},expression:"form.extra.group"}},e._l(e.groupoptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{"label-width":"150px",label:"展示条数:",prop:"extra.show_num"}},[a("el-input",{staticStyle:{width:"350px"},attrs:{placeholder:"请输入展示条数"},model:{value:e.form.extra.show_num,callback:function(t){e.$set(e.form.extra,"show_num",t)},expression:"form.extra.show_num"}})],1),a("el-form-item",{attrs:{"el-form-item":"","label-width":"150px",label:"是否启用:",prop:"status"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.statusoptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),a("div",{staticClass:"fr",staticStyle:{width:"50%"}},[a("el-form-item",{attrs:{"el-form-item":"","label-width":"150px",label:"栏目类型:",prop:"type"}},[a("el-select",{attrs:{placeholder:"请选择"},on:{change:e.changetype},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},e._l(e.columntypeoptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),e.forceRefresh?a("child-page1",{directives:[{name:"show",rawName:"v-show",value:"default"==e.form.type||"pinghuhao"==e.form.type||"work"==e.form.type||"algo"==e.form.type||"video_waterfall"==e.form.type||"video_landscape"==e.form.type||"subscription"==e.form.type||"topic"==e.form.type||"matrix"==e.form.type||"matrix2"==e.form.type,expression:"form.type=='default'||form.type=='pinghuhao'||form.type=='work'||form.type=='algo'||form.type=='video_waterfall'||form.type=='video_landscape'||form.type=='subscription'||form.type=='topic'||form.type=='matrix'||form.type=='matrix2' "}],ref:"c_page1",attrs:{userdata:e.userdata,form:e.form},model:{value:e.form,callback:function(t){e.form=t},expression:"form"}}):e._e(),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"service"==e.form.type,expression:"form.type=='service'"}],attrs:{"label-width":"150px",label:"服务背景图:",prop:"extra.background"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.VUE_APP_BASE_API+"/api/upload/image",headers:e.importHeaders,name:"image","show-file-list":!1,"on-success":e.handleAvatarSuccess.bind(this,"background"),"before-upload":e.beforeAvatarUpload}},[e.form.extra.background?a("img",{staticClass:"avatar",attrs:{src:e.form.extra.background}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"service"==e.form.type,expression:"form.type=='service'"}],attrs:{"label-width":"150px",label:"模块类型:",prop:"extra.template"}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:e.form.extra.template,callback:function(t){e.$set(e.form.extra,"template",t)},expression:"form.extra.template"}},e._l(e.moduleoption,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"service"==e.form.type,expression:"form.type=='service'"}],attrs:{"label-width":"150px",label:"是否允许添加到桌面:",prop:"extra.send_desktop"}},[a("el-radio-group",{model:{value:e.form.extra.send_desktop,callback:function(t){e.$set(e.form.extra,"send_desktop",t)},expression:"form.extra.send_desktop"}},[a("el-radio",{attrs:{label:"1"}},[e._v("是")]),a("el-radio",{attrs:{label:"0"}},[e._v("否")])],1)],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"service"==e.form.type,expression:"form.type=='service'"}],attrs:{"label-width":"150px",label:"桌面跳转地址:",prop:"extra.desktop_url"}},[a("el-input",{staticStyle:{width:"350px"},attrs:{placeholder:"请输入桌面跳转地址"},model:{value:e.form.extra.desktop_url,callback:function(t){e.$set(e.form.extra,"desktop_url",t)},expression:"form.extra.desktop_url"}})],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"service"==e.form.type,expression:"form.type=='service'"}],attrs:{"label-width":"150px",label:"链接类型:",prop:"extra.link.type"}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:e.form.extra.link.type,callback:function(t){e.$set(e.form.extra.link,"type",t)},expression:"form.extra.link.type"}},e._l(e.linktypeoption,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"topic"==e.form.type,expression:"form.type=='topic'"}],attrs:{"label-width":"150px",label:"专题类型:",prop:"extra.topic_type"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.extra.topic_type,callback:function(t){e.$set(e.form.extra,"topic_type",t)},expression:"form.extra.topic_type"}},e._l(e.topicoption,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),"service"==e.form.type&&"app_redirect"==e.form.extra.link.type?a("div",["outer_link"==e.form.type||"auth_link"==e.form.type||"service"==e.form.type?a("el-form-item",{attrs:{"label-width":"150px",label:"链接地址:",prop:"extra.link.url"}},[a("el-input",{staticStyle:{width:"350px"},attrs:{placeholder:"请输入栏目名称"},model:{value:e.form.extra.link.id,callback:function(t){e.$set(e.form.extra.link,"id",t)},expression:"form.extra.link.id"}})],1):a("div")],1):e._e(),"service"==e.form.type&&"alipay"==e.form.extra.link.type?a("div",[a("el-form-item",{attrs:{"label-width":"150px",label:"安卓跳转方法名称:",prop:"extra.link.settings.android_func_name"}},[a("el-input",{staticStyle:{width:"350px"},attrs:{placeholder:"请输入安卓跳转方法名称"},model:{value:e.form.extra.link.settings.android_func_name,callback:function(t){e.$set(e.form.extra.link.settings,"android_func_name",t)},expression:"form.extra.link.settings.android_func_name"}})],1),a("el-form-item",{attrs:{"label-width":"150px",label:"IOS跳转方法名称:",prop:"extra.link.settings.ios_func_name"}},[a("el-input",{staticStyle:{width:"350px"},attrs:{placeholder:"请输入IOS跳转方法名称"},model:{value:e.form.extra.link.settings.ios_func_name,callback:function(t){e.$set(e.form.extra.link.settings,"ios_func_name",t)},expression:"form.extra.link.settings.ios_func_name"}})],1),a("el-form-item",{attrs:{"label-width":"150px",label:"json形式跳转参数:",prop:"extra.link.settings.redirect_params"}},[a("el-input",{staticStyle:{width:"350px"},attrs:{placeholder:"请输入json形式跳转参数"},model:{value:e.form.extra.link.settings.redirect_params,callback:function(t){e.$set(e.form.extra.link.settings,"redirect_params",t)},expression:"form.extra.link.settings.redirect_params"}})],1)],1):e._e(),"service"==e.form.type&&"wechat_mp"==e.form.extra.link.type?a("div",[a("el-form-item",{attrs:{"label-width":"150px",label:"微信id:",prop:"extra.link.settings.id"}},[a("el-input",{staticStyle:{width:"350px"},attrs:{placeholder:"请输入微信id"},model:{value:e.form.extra.link.settings.id,callback:function(t){e.$set(e.form.extra.link.settings,"id",t)},expression:"form.extra.link.settings.id"}})],1),a("el-form-item",{attrs:{"label-width":"150px",label:"微信mp:",prop:"extra.link.settings.mp"}},[a("el-input",{staticStyle:{width:"350px"},attrs:{placeholder:"请输入微信mp"},model:{value:e.form.extra.link.settings.mp,callback:function(t){e.$set(e.form.extra.link.settings,"mp",t)},expression:"form.extra.link.settings.mp"}})],1)],1):a("div",["outer_link"!=e.form.type&&"newspaper"!=e.form.type&&"auth_link"!=e.form.type&&"service"!=e.form.type||"weather"==e.form.extra.link.type||"alipay"==e.form.extra.link.type||"wechat_mp"==e.form.extra.link.type?e._e():a("el-form-item",{attrs:{"label-width":"150px",label:"链接地址:",prop:"extra.link.url"}},[a("el-input",{staticStyle:{width:"350px"},attrs:{placeholder:"请输入栏目名称"},model:{value:e.form.extra.link.url,callback:function(t){e.$set(e.form.extra.link,"url",t)},expression:"form.extra.link.url"}})],1)],1)],1)]),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{directives:[{name:"points",rawName:"v-points",value:1500,expression:"1500"}],on:{click:e.closeDialog}},[e._v("取 消")]),a("el-button",{directives:[{name:"points",rawName:"v-points",value:1500,expression:"1500"}],attrs:{type:"primary"},on:{click:e.enterDialog}},[e._v("确 定")])],1)],1)],1)},r=[],i=a("ade3"),o=(a("d3b7"),a("159b"),a("ac1f"),a("1276"),a("25f0"),a("a15b"),a("7db0"),a("d81d"),a("b0c0"),a("fb6a"),a("9911"),a("4e82"),a("e9c4"),a("a9e3"),a("b49d")),n=a("0fea"),s=a("56b7"),c=a.n(s),p=a("7d852"),m=a.n(p),u=a("d4ba"),d=a.n(u),f=a("fae2"),h=a.n(f),v=a("b041a"),b=a.n(v),_=a("6967"),x=a.n(_),g=a("5ac7"),y=a.n(g),w=a("bb22"),k=a.n(w),$=a("9099"),S=a.n($),j=a("5718"),C=a.n(j),N=a("b535"),O=a.n(N),P=a("bcb4"),A=a.n(P),I=a("ca5e"),L=a.n(I),F=a("05a7"),V=a.n(F),T=a("85e3"),q=a.n(T),E=a("9a0a"),z=a.n(E),U=a("65ff"),M=a.n(U),R=a("f429"),D=a.n(R),B=a("3fd3"),J=a.n(B),H=a("158e"),G=a.n(H),Q=a("f362"),K=a.n(Q),W=a("d7ee"),X=a.n(W),Y=a("269f"),Z=a.n(Y),ee=a("748e"),te=a.n(ee),ae=a("ed76"),le=a.n(ae),re=a("297a"),ie=a.n(re),oe=a("335d"),ne=a.n(oe),se=a("4f6f"),ce=a.n(se),pe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"childpage1"},[a("el-dialog",{ref:"indialog",attrs:{"close-on-click-modal":!1,"append-to-body":"",title:"编辑审核人",visible:e.dialogVisible,width:"800px"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("div",{staticStyle:{"margin-bottom":"20px"}},[a("el-button",{directives:[{name:"points",rawName:"v-points",value:1500,expression:"1500"}],attrs:{type:"primary",size:"mini"},on:{click:e.addtransfer}},[e._v("增加一级审核人")]),a("el-button",{directives:[{name:"points",rawName:"v-points",value:1500,expression:"1500"}],attrs:{disabled:e.listnum<1,type:"primary",size:"mini"},on:{click:e.deltransfer}},[e._v("删除一级审核人")])],1),e._l(e.listnum,(function(t,l){return[a("h3",[e._v("第"+e._s(l+1)+"级审核人：")]),a("el-transfer",{staticStyle:{display:"flex","justify-content":"center","align-items":"center","margin-bottom":"20px"},attrs:{titles:["用户列表","审核人列表"],filterable:"","filter-method":e.filterMethod,"filter-placeholder":"请输入审核人姓名",data:e.userdata},model:{value:e.c_form.extra.multi_review[l],callback:function(t){e.$set(e.c_form.extra.multi_review,l,t)},expression:"c_form.extra.multi_review[index]"}})]})),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{directives:[{name:"points",rawName:"v-points",value:1500,expression:"1500"}],attrs:{type:"primary"},on:{click:e.suretransfer}},[e._v("确 定")])],1)],2),a("el-form-item",{attrs:{"label-width":"150px",label:"多级审核:",prop:"extra.defaultform"}},[a("el-button",{directives:[{name:"points",rawName:"v-points",value:1500,expression:"1500"}],attrs:{type:"primary",size:"mini"},on:{click:e.edituser}},[e._v("编辑审核人")]),e._l(e.listshowarr,(function(t,l){return a("div",{key:l},[a("h4",[a("span",{staticStyle:{color:"#000"}},[e._v("第"+e._s(l+1)+"级审核人：")]),e._v(e._s(t))])])}))],2),a("el-form-item",{attrs:{"label-width":"150px",label:"显示更多:",prop:"extra.display_more"}},[a("el-radio-group",{model:{value:e.c_form.extra.display_more,callback:function(t){e.$set(e.c_form.extra,"display_more",t)},expression:"c_form.extra.display_more"}},[a("el-radio",{attrs:{label:"1"}},[e._v("显示")]),a("el-radio",{attrs:{label:"0"}},[e._v("不显示")])],1)],1),a("el-form-item",{attrs:{"label-width":"150px",label:"显示标题:",prop:"extra.display_title"}},[a("el-radio-group",{model:{value:e.c_form.extra.display_title,callback:function(t){e.$set(e.c_form.extra,"display_title",t)},expression:"c_form.extra.display_title"}},[a("el-radio",{attrs:{label:"1"}},[e._v("显示")]),a("el-radio",{attrs:{label:"0"}},[e._v("不显示")])],1)],1),a("el-form-item",{attrs:{"label-width":"150px",label:"显示数据:",prop:"extra.show_data"}},[a("el-radio-group",{model:{value:e.c_form.extra.show_data,callback:function(t){e.$set(e.c_form.extra,"show_data",t)},expression:"c_form.extra.show_data"}},[a("el-radio",{attrs:{label:"1"}},[e._v("显示")]),a("el-radio",{attrs:{label:"0"}},[e._v("不显示")])],1)],1)],1)},me=[],ue={name:"ChildPage1",props:{value:{type:Object,default:{}},userdata:{type:Array,default:{}}},data:function(){return{dialogVisible:!1,listnum:1,listshowarr:[],p_flag:!1}},created:function(){},computed:{c_form:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}},methods:{addtransfer:function(){this.listnum++,this.c_form.extra.multi_review.length=this.listnum;for(var e=0;e<this.c_form.extra.multi_review.length;e++)this.c_form.extra.multi_review[e]||(this.c_form.extra.multi_review[e]=[]);console.log(this.c_form.extra.multi_review)},deltransfer:function(){this.listnum>=1?this.listnum--:this.$message({message:"已经没有了",type:"warning"}),this.c_form.extra.multi_review.length=this.listnum;for(var e=0;e<this.c_form.extra.multi_review.length;e++)this.c_form.extra.multi_review[e]||(this.c_form.extra.multi_review[e]=[]);console.log(this.c_form.extra.multi_review)},edituser:function(){this.dialogVisible=!0},filterMethod:function(e,t){return t.pinyin.indexOf(e)>-1},suretransfer:function(){console.log(this.c_form.extra.multi_review);for(var e=0;e<this.c_form.extra.multi_review.length;e++)if(0==this.c_form.extra.multi_review[e].length)return void this.$message({message:"第".concat(e+1,"级审核为空，请保证每一级审核都有审核人"),type:"warning"});this.dialogVisible=!1,this.listshowarr.length=this.c_form.extra.multi_review.length,this.showtxt()},showtxt:function(){for(var e=0;e<this.c_form.extra.multi_review.length;e++)this.listshowarr[e]=[];for(e=0;e<this.c_form.extra.multi_review.length;e++)for(var t=0;t<this.c_form.extra.multi_review[e].length;t++)for(var a=0;a<this.userdata.length;a++)this.c_form.extra.multi_review[e][t]==this.userdata[a].key&&(this.listshowarr[e][t]=this.userdata[a].label);this.$forceUpdate()}}},de=ue,fe=a("2877"),he=Object(fe["a"])(de,pe,me,!1,null,"31c565ec",null),ve=he.exports,be={name:"column",components:{ChildPage1:ve,Cropper:o["a"]},data:function(){var e=sessionStorage.getItem("token");return{mbhimg:{1001:c.a,1002:m.a,1101:d.a,1102:h.a,1103:b.a,1104:x.a,1105:y.a,1201:k.a,1202:S.a,1203:C.a,1204:O.a,1301:A.a,1302:L.a,1303:V.a,1304:q.a,1305:z.a,1306:M.a,1307:D.a,1308:J.a,1401:G.a,1402:K.a,1403:X.a,1501:Z.a,1601:te.a,1602:le.a,1603:ie.a,"tab栏":ne.a,zanwu:ce.a},forceRefresh:!1,userdata:[],importHeaders:{Authorization:e},queryParams:{product_id:"",with_special_channels:""},catalogid:"",productList:{},sourceId:"",statusoptions:[{value:1,label:"启用"},{value:0,label:"禁用"}],moduleoption:[{value:"top",label:"顶部卡片"},{value:"recommend",label:"推荐"},{value:"category",label:"分类"}],topicoption:[{value:"1",label:"简单聚合"},{value:"2",label:"多模块聚合"}],linktypeoption:[{value:"outer_link",label:"外链"},{value:"auth_link",label:"授权外链"},{value:"app_redirect",label:"app跳转"},{value:"third_party_app_redirect",label:"三方app跳转"},{value:"hyg_auth",label:"好易购授权"},{value:"hyg_force_auth",label:"好易购强制授权"},{value:"alipay",label:"支付宝功能"},{value:"wechat_mp",label:"微信小程序"},{value:"weather",label:"天气"}],groupoptions:[{value:"home",label:"首页"},{value:"video",label:"视频"},{value:"v_channel",label:"视听"},{value:"service",label:"服务"},{value:"interact",label:"互动"},{value:"live",label:"直播"},{value:"mall",label:"商城"},{value:"practice",label:"文明实践"},{value:"ask_politics",label:"问政"},{value:"community",label:"社区"},{value:"education",label:"教育"},{value:"activity",label:"活动"},{value:"m_level",label:"多层级"}],catalogoptions:[],styleoptions:[],columntypeoptions:[{value:"default",label:"默认"},{value:"topic",label:"专题"},{value:"matrix",label:"矩阵"},{value:"matrix2",label:"矩阵二"},{value:"matrix_intro",label:"矩阵简介"},{value:"video_waterfall",label:"视频瀑布流"},{value:"video_landscape",label:"横版视频"},{value:"subscription",label:"订阅类型"},{value:"service",label:"服务"},{value:"outer_link",label:"外链"},{value:"auth_link",label:"授权外链"},{value:"tv",label:"电视"},{label:"电视+点播",value:"tv_and_vod"},{label:"点播",value:"vod"},{value:"radio",label:"广播"},{label:"看报纸",value:"newspaper"},{value:"two_col",label:"二列列表"},{value:"multi_layer",label:"多层级"},{value:"multi_layer2",label:"多层级二"},{value:"map_matrix",label:"地图矩阵"},{value:"float",label:"悬浮球"},{value:"vod_list",label:"视频点播列表"},{value:"community",label:"社区"},{value:"algo",label:"新蓝算法"},{value:"duiba",label:"兑吧"},{value:"work",label:"找工作"},{value:"multi_layer3",label:"多层级三"},{value:"sub_level",label:"次级栏目"},{value:"pinghuhao",label:"平湖号"},{value:"Slow_live",label:"慢直播"}],medias:[{value:"新闻",label:"news"},{value:"视频",label:"video"},{value:"图集",label:"album"}],checkedmedias:[],loading:!0,dataList:[],dialogFormVisible:!1,form:{},columnSetting:{checkStrictly:!0,value:"id",label:"name",emitPath:!1,multiple:!0},rules:{father:[{required:!0,message:"请选择上级栏目",trigger:"blur"}],name:[{required:!0,message:"请输入栏目名称",trigger:"blur"}],"extra.show_num":[{required:!0,message:"请输入展示条数",trigger:"blur"}],type:[{required:!0,message:"请选择栏目类型",trigger:"blur"}],status:[{required:!0,message:"请选择是否启用",trigger:"blur"}]},dialogType:"add",dialogTitle:""}},computed:{VUE_APP_BASE_API:function(){return this.imgurl2},productId:function(){return this.queryParams.product_id}},created:function(){var e=this;this.initForm(),this.getproductList(),this.getuserfn();var t=window.location.host.indexOf("pub.cztvcloud.com")>-1||window.location.host.indexOf("batrix-www-local")>-1;t||Object(n["D"])().then((function(t){e.catalogoptions=t.data.list}))},watch:{productId:function(e){var t=this;this.productList.forEach((function(a){e==a.id&&(t.sourceId=a.source_id)})),this.getList()}},methods:{parseObj:function(e){var t=e.key.split("."),a=t.reduce((function(e,t){return e[t]}),this.from);return"select"===e.component?a&&a.toString().split(","):a},handleInput:function(e,t){var a=t.key.split("."),l=t.type||"string";"number"===l&&(e=parseInt(e)||""),a.reduce((function(l,r){if(r!==a[a.length-1])return l[r];l[r]="select"===t.component?e.join():e}),this.from)},handleRemove:function(e){this.form.extra[e]="",this.$forceUpdate()},yulanfn:function(){window.open(this.viewurl+this.form.extra.template_json_id)},catalogchange:function(){var e=this;if(this.form.extra.template_style){this.styleoptions=[],this.form.extra.template_json_id="";var t={catalogCode:this.form.extra.template_style,sourceId:this.sourceId};Object(n["Fc"])(t).then((function(t){console.log(t),e.styleoptions=t.data||[]}))}},getstyle:function(e){if(!e)return"无";for(var t=0;t<this.catalogoptions.length;t++)if(e==this.catalogoptions[t].catalogCode)return this.catalogoptions[t].catalogName},getGroupoptions:function(e){var t=this.groupoptions.find((function(t){return t.value===e}));return(null===t||void 0===t?void 0:t.label)||""},getChannelName:function(e){if(!e.length)return"";var t="";return e.map((function(e){t+=e.name+","})),t.slice(0,-1)},getuserfn:function(){var e=this,t={model:"User"},a={page:1,pageSize:999};Object(n["dc"])(Object.assign(t,a)).then((function(t){t.data.forEach((function(t,a){e.userdata.push({label:t.name,key:t.id,pinyin:t.name})})),e.forceRefresh=!0}))},initForm:function(){this.$refs.dataForm&&this.$refs.dataForm.resetFields(),this.form={type:"default",father:"",name:"",sort:0,status:1,extra:{intro:"",cover:"",logo:"",allow_news_types:[],load_child:"1",load_news:"1",linked_channel_id:"",channel_link_type:"",template_style:"",template_json_id:"",template_json:{},show_num:20,group:"",multi_review:[],display_more:"",display_title:"",send_desktop:"0",desktop_url:"",topic_type:"1",background:"",link:{type:"",url:"",id:"",settings:{android_func_name:"",ios_func_name:"",redirect_params:"",id:"",mp:""}},template:""}}},channelTypeChange:function(e){this.form.extra.linked_channel_id="",this.columnSetting.multiple="union"==e},changetype:function(){var e=this;"default"==this.form.type?this.$nextTick((function(){e.$refs.c_page1.showtxt()})):"service"!==this.form.type&&("alipay"!=this.form.extra.link.type&&"wechat_mp"!=this.form.extra.link.type||(this.form.extra.link.type=""))},handleAvatarSuccess:function(e,t){this.form.extra[e]=t.path,this.$forceUpdate()},beforeAvatarUpload:function(e){var t=e.size/1024/1024<20;return t||this.$message.error("上传头像图片大小不能超过 20MB!"),t},statuschange:function(e){var t=this;Object(n["sb"])(e.id,e).then((function(e){t.$message({message:"修改成功",type:"success"}),t.getList()}))},getproductList:function(){var e=this;Object(n["nc"])({}).then((function(t){e.productList=t.data,e.queryParams.product_id=e.productList[0].id}))},getList:function(){var e=this;this.loading=!0,Object(n["Ib"])(this.queryParams).then((function(t){function a(e){for(var t=0;t<e.length;t++)0==t&&(e[t].b_sort="begin"),t==e.length-1&&(e[t].e_sort="end"),e[t].children&&0!=e[t].children.length&&a(e[t].children)}e.loading=!1,e.dataList=t,a(e.dataList)}))},move:function(e,t,a){var l,r=this,o=t.id,s=t.sort,c="",p="";function m(e,t,a){for(var l=0;l<e.length;l++)e[l].id==t?"up"==a?(c=e[l-1].id,p=e[l-1].sort):(c=e[l+1].id,p=e[l+1].sort):e[l].children&&0!=e[l].children.length&&m(e[l].children,t,a)}m(this.dataList,o,a);var u=(l={},Object(i["a"])(l,o,p),Object(i["a"])(l,c,s),l);Object(n["Ec"])(u).then((function(e){r.$message({message:"修改成功",type:"success"}),r.getList()}))},dialogclose:function(){this.$refs.c_page1.listshowarr=[]},adddata:function(e){var t=this;this.initForm(),this.forceRefresh=!1,this.$nextTick((function(){t.forceRefresh=!0})),this.form.father=[e.id]||!1,this.form.placeholder=e.name||"",this.dialogTitle="新增栏目",this.dialogType="add",this.dialogFormVisible=!0},editdata:function(e){var t=this;this.initForm(),this.columnSetting.multiple="union"==e.channel_link_type,this.catalogid="",this.dialogTitle="编辑栏目",this.dialogType="edit",Object(n["kc"])(e.id).then((function(e){var a=t.form.extra;t.form=JSON.parse(JSON.stringify(e)),t.form.extra=Object.assign(a,t.form.extra),console.log("form",t.form);for(var l=e.extra.linked_channel_id||"",r=[],i=t.form.extra.multi_review||[],o=0;o<i.length;o++){r[o]=[],r[o]=i[o].reviewer_ids.split(",");for(var n=0;n<r[o].length;n++)r[o][n]=parseInt(r[o][n])}if(t.form.extra.multi_review=r,l.indexOf(",")>-1?t.form.extra.linked_channel_id=l.split(","):t.form.extra.linked_channel_id=l?parseInt(l):"",t.form.extra.cover=t.form.extra.cover?t.form.extra.cover[0].path:"",t.dialogFormVisible=!0,t.$nextTick((function(){t.$refs.c_page1.showtxt(),t.$refs.c_page1.listnum=r.length})),t.form.extra.template_style){var s=t.form.extra.template_json_id?Number(t.form.extra.template_json_id):"";t.catalogchange(),t.form.extra.template_json_id=s}}))},handleDelete:function(e){var t,a=this,l=null!==e&&void 0!==e&&null!==(t=e.children)&&void 0!==t&&t.length?"删除当前栏目会影响该栏目子栏目数据展示，是否确认删除？":"此操作将永久删除id为'".concat(e.id,"'的栏目, 是否继续?");this.$confirm(l,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(n["Q"])(e.id).then((function(e){a.$message({message:"删除成功",type:"success"}),a.getList()}))})).catch((function(){a.$message({type:"info",message:"已取消删除"})}))},closeDialog:function(){this.initForm(),this.dialogFormVisible=!1},enterDialog:function(){var e=this;this.$refs["dataForm"].validate((function(t){if(t){var a=JSON.parse(JSON.stringify(e.form));if(a.father=Number(a.father),Array.isArray(a.extra.linked_channel_id)){var l=a.extra.linked_channel_id||[],r="";l.map((function(e){r+=e+","})),a.extra.linked_channel_id=r.slice(0,-1)}for(var i=a.extra.multi_review,o=[],s=0;s<i.length;s++)o[s]={},o[s].sort=s+1,o[s].status=0,o[s].reviewer_ids=i[s].join();if(a.extra.multi_review=o,a.extra.cover=[{path:a.extra.cover,intro:""}],a.extra.template_json_id)for(s=0;s<e.styleoptions.length;s++)e.styleoptions[s].id==a.extra.template_json_id&&(a.extra.template_json=e.styleoptions[s].styleJson);else a.extra.template_json=null;console.log("提交的数据",a),"edit"==e.dialogType?Object(n["sb"])(a.id,a).then((function(t){e.$message({message:"修改成功",type:"success"}),e.dialogFormVisible=!1,e.getList()})):Object(n["n"])(a).then((function(t){e.$message({message:"新增成功",type:"success"}),e.dialogFormVisible=!1,e.getList()}))}}))}}},_e=be,xe=(a("28e4"),a("1ad2"),Object(fe["a"])(_e,l,r,!1,null,"2b65dbba",null));t["default"]=xe.exports},9099:function(e,t,a){e.exports=a.p+"static/img/1202.47f7e41f.png"},"9a0a":function(e,t,a){e.exports=a.p+"static/img/1305.b430aa52.png"},b041a:function(e,t,a){e.exports=a.p+"static/img/1103.4e77ee29.png"},b535:function(e,t,a){e.exports=a.p+"static/img/1204.afdb2cf5.png"},bb22:function(e,t,a){e.exports=a.p+"static/img/1201.1a4252b6.png"},bcb4:function(e,t,a){e.exports=a.p+"static/img/1301.50be83bb.png"},ca5e:function(e,t,a){e.exports=a.p+"static/img/1302.fb6ce92a.png"},d4ba:function(e,t,a){e.exports=a.p+"static/img/1101.7acbd020.png"},d7ee:function(e,t,a){e.exports=a.p+"static/img/1403.3d6db03a.png"},ed76:function(e,t,a){e.exports=a.p+"static/img/1602.e912b831.png"},f362:function(e,t,a){e.exports=a.p+"static/img/1402.38c09933.png"},f429:function(e,t,a){e.exports=a.p+"static/img/1307.2da40a93.png"},fae2:function(e,t,a){e.exports=a.p+"static/img/1102.a4a6ad15.png"}}]);