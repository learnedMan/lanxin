(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6629b92e"],{"77bc":function(e,t,a){},"7dd2":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"xl-label-manage"},[a("div",{staticClass:"search"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0}},[a("el-form-item",{attrs:{label:"标签名称:",prop:"name"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入关键字",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.name,callback:function(t){e.$set(e.queryParams,"name",t)},expression:"queryParams.name"}})],1),a("el-form-item",{attrs:{label:"样式:",prop:"type"}},[a("el-select",{attrs:{size:"small",placeholder:"请选择样式",clearable:""},model:{value:e.queryParams.type,callback:function(t){e.$set(e.queryParams,"type",t)},expression:"queryParams.type"}},e._l(e.typeOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",[a("el-button",{directives:[{name:"points",rawName:"v-points",value:1500,expression:"1500"}],attrs:{type:"primary",size:"mini"},on:{click:e.handleReset}},[e._v(" 重置 ")]),a("el-button",{directives:[{name:"points",rawName:"v-points",value:1500,expression:"1500"}],attrs:{type:"primary",size:"mini"},on:{click:e.handleQuery}},[e._v(" 搜索 ")]),a("el-button",{directives:[{name:"points",rawName:"v-points",value:1500,expression:"1500"}],attrs:{type:"primary",size:"mini"},on:{click:e.handleAdd}},[e._v(" 新增 ")])],1)],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{"header-cell-style":{background:"#eef1f6",color:"#606266"},data:e.tableData,border:"","tooltip-effect":"dark"}},[a("el-table-column",{attrs:{label:"ID",align:"center",prop:"id"}}),a("el-table-column",{attrs:{label:"标签名称",align:"center",prop:"name","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"样式",align:"center",prop:"typeLabel"}}),a("el-table-column",{attrs:{label:"标签描述",align:"center",prop:"introduction","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"created_at","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"操作",align:"center",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"verify-table-action"},[a("Iconbutton",{attrs:{icontype:"xg",label:"修改"},on:{fatherMethod:function(a){return e.handleEdit(t.row)}}}),a("Iconbutton",{attrs:{icontype:"sc",label:"删除"},on:{fatherMethod:function(a){return e.handleListDelete(t.row)}}})],1)]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],attrs:{total:e.total,page:e.queryParams.page,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"page",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),a("el-dialog",{attrs:{width:"600px",title:e.dialog.title,visible:e.dialog.show},on:{"update:visible":function(t){return e.$set(e.dialog,"show",t)}}},[a("el-form",{ref:"dialogForm",attrs:{model:e.dialog.form,rules:e.dialog.rules}},[a("el-form-item",{attrs:{"label-width":"120px",label:"标签名称:",prop:"name"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入标签名称",clearable:"",size:"small"},model:{value:e.dialog.form.name,callback:function(t){e.$set(e.dialog.form,"name",t)},expression:"dialog.form.name"}})],1),a("el-form-item",{attrs:{"label-width":"120px",label:"样式:",prop:"type"}},[a("el-radio-group",{model:{value:e.dialog.form.type,callback:function(t){e.$set(e.dialog.form,"type",t)},expression:"dialog.form.type"}},e._l(e.typeOptions,(function(t){return a("el-radio",{key:t.value,attrs:{label:t.value}},[e._v(e._s(t.label))])})),1)],1),a("el-form-item",{attrs:{"label-width":"120px",label:"描述:"}},[a("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入标签描述",clearable:"",type:"textarea",rows:"4",resize:"none"},model:{value:e.dialog.form.introduction,callback:function(t){e.$set(e.dialog.form,"introduction",t)},expression:"dialog.form.introduction"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{directives:[{name:"points",rawName:"v-points",value:1500,expression:"1500"}],on:{click:e.closeDialog}},[e._v("取 消")]),a("el-button",{directives:[{name:"points",rawName:"v-points",value:1500,expression:"1500"}],attrs:{type:"primary"},on:{click:e.enterDialog}},[e._v("确 定")])],1)],1)],1)},l=[],o=a("8955"),n=a("06c4"),r=(a("e18c"),a("2eeb"),a("053b"),a("cc48")),s={name:"labelManage",data:function(){return{queryParams:{name:"",type:"",pageSize:10,page:1},total:0,loading:!1,typeOptions:[{label:"高亮",value:"hightlight"},{label:"普通",value:"dafault"}],dateValue:"",pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),e.$emit("pick",[a,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),e.$emit("pick",[a,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-7776e6),e.$emit("pick",[a,t])}}]},tableData:[],dialog:{title:"新增",show:!1,form:{name:"",type:"",introduction:""},rules:{name:{required:!0,message:"请输入标签名称",trigger:"blur"},type:{required:!0,message:"请选择样式",trigger:"change"}}}}},created:function(){this.getList()},methods:{handleReset:function(){this.dateValue="",Object.assign(this.queryParams,{page:1}),this.resetForm("queryForm")},handleQuery:function(){this.queryParams.page=1,this.getList()},handleAdd:function(){var e=this;Object.assign(this.dialog,{show:!0,title:"新增",form:{name:"",type:"",introduction:""}}),this.$nextTick((function(){var t;null===(t=e.$refs.dialogForm)||void 0===t||t.clearValidate()}))},handleDateChange:function(e){var t=e||["",""];this.queryParams.startdate=t[0],this.queryParams.enddate=t[1]},getList:function(){var e=this;this.loading=!0,Object(r["G"])(this.removePropertyOfNull(this.queryParams)).then((function(t){var a=t.data,i=t.total,l=e.typeOptions.reduce((function(e,t){return Object(n["a"])(Object(n["a"])({},e),{},Object(o["a"])({},t.value,t.label))}),{});e.tableData=a.map((function(e){return Object(n["a"])(Object(n["a"])({},e),{},{typeLabel:l[e.type]})})),e.total=i})).finally((function(){e.loading=!1}))},handleListDelete:function(e){var t=this,a=e.id;this.$confirm("此操作将永久删除这条id为".concat(a,"的标签, 是否继续?"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(r["u"])(a).then((function(){t.$message({message:"删除成功",type:"success"}),t.getList()}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},handleEdit:function(e){var t=this;Object.assign(this.dialog,{show:!0,title:"编辑",form:{name:e.name,type:e.type,introduction:e.introduction,id:e.id}}),this.$nextTick((function(){var e;null===(e=t.$refs.dialogForm)||void 0===e||e.clearValidate()}))},closeDialog:function(){this.dialog.show=!1},enterDialog:function(){var e=this,t=this.dialog.form.id;this.$refs.dialogForm.validate((function(a){var i;a&&(t?(delete e.dialog.form.id,i=Object(r["y"])(t,e.removePropertyOfNull(e.dialog.form))):i=Object(r["e"])(e.removePropertyOfNull(e.dialog.form)),i.then((function(){e.$message({message:t?"修改成功":"新增成功",type:"success"}),e.dialog.show=!1,e.getList()})))}))}}},c=s,u=(a("bbcd"),a("cba8")),d=Object(u["a"])(c,i,l,!1,null,"1bde7a36",null);t["default"]=d.exports},bbcd:function(e,t,a){"use strict";a("77bc")}}]);