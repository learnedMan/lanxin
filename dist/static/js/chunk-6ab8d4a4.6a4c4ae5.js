(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6ab8d4a4"],{"0191":function(e,t,r){"use strict";r.d(t,"n",(function(){return o})),r.d(t,"a",(function(){return s})),r.d(t,"h",(function(){return l})),r.d(t,"f",(function(){return u})),r.d(t,"q",(function(){return c})),r.d(t,"j",(function(){return m})),r.d(t,"k",(function(){return p})),r.d(t,"s",(function(){return d})),r.d(t,"o",(function(){return f})),r.d(t,"p",(function(){return b})),r.d(t,"t",(function(){return h})),r.d(t,"i",(function(){return g})),r.d(t,"e",(function(){return v})),r.d(t,"c",(function(){return _})),r.d(t,"g",(function(){return x})),r.d(t,"r",(function(){return w})),r.d(t,"m",(function(){return O})),r.d(t,"d",(function(){return y})),r.d(t,"b",(function(){return j})),r.d(t,"l",(function(){return k}));var a=r("b775"),n=r("b60c"),i=r("0385");r("2ab73");function o(e){return Object(a["a"])({url:"/api/refuseReasons",method:"get",params:e})}function s(e){return Object(a["a"])({url:"/api/refuseReasons",method:"post",data:e})}function l(e,t){return Object(a["a"])({url:"/api/refuseReasons/".concat(e),method:"PATCH",data:t})}function u(e){return Object(a["a"])({url:"/api/refuseReasons/".concat(e),method:"delete"})}function c(){return Object(n["a"])({url:"/intranet/querySourceIdData",method:"get"})}function m(e){return Object(n["a"])({url:"/internal/feedback/pageList",method:"post",data:e})}function p(e){return Object(n["a"])({url:"/internal/feedback/info",method:"get",params:e})}function d(e){return Object(n["a"])({url:"/internal/feedback/reply",method:"post",data:e})}function f(e){return Object(n["a"])({url:"/internal/report/pageList",method:"post",data:e})}function b(e){return Object(n["a"])({url:"/internal/report/info",method:"get",params:e})}function h(e){return Object(n["a"])({url:"/internal/report/reply",method:"post",data:e})}function g(e){return Object(i["a"])({url:"/new/intranet/comment/listConsole",method:"post",data:e})}function v(e){return Object(i["a"])({url:"/new/intranet/comment/manage/".concat(e),method:"get"})}function _(e){return Object(i["a"])({url:"/new/intranet/comment/operate",method:"post",data:e})}function x(e){return Object(i["a"])({url:"/new/intranet/comment/noTalkUser",method:"post",data:e})}function w(e){return Object(i["a"])({url:"/new/intranet/comment/cancelNoTalkUser",method:"post",data:e})}function O(e){return Object(n["a"])({url:"/internal/baoliao/getList",method:"post",data:e})}function y(e){return Object(n["a"])({url:"/internal/baoliao/modifyState",method:"post",data:e})}function j(e){return Object(n["a"])({url:"/internal/baoliao/batchModifyState",method:"post",data:e})}function k(e){return Object(n["a"])({url:"/internal/baoliao/getData",method:"post",params:e})}},"0385":function(e,t,r){"use strict";r("e18c");var a=r("f753"),n=r.n(a),i=r("b705"),o=r("a18c"),s=n.a.create({baseURL:"http://10.30.10.1/api",timeout:5e3});s.interceptors.request.use((function(e){return e.headers.Authorization=sessionStorage.getItem("token"),e}),(function(e){return Object(i["Message"])({showClose:!0,message:e,duration:5e3,type:"error.data.error.message"}),Promise.reject(e.data.error.message)})),s.interceptors.response.use((function(e){return 200==e.data.code||"true"===e.headers.success?e.data:(Object(i["Message"])({showClose:!0,message:e.data.msg||decodeURI(e.headers.msg),type:"error"}),e.data.data&&e.data.data.reload&&(sessionStorage.removeItem("token"),o["c"].push("/login")),Promise.reject(e.data.msg))}),(function(e){return Object(i["Message"])({showClose:!0,message:e,type:"error"}),Promise.reject(e)})),t["a"]=s},"0fea":function(e,t,r){"use strict";r.d(t,"mb",(function(){return o})),r.d(t,"j",(function(){return s})),r.d(t,"cb",(function(){return l})),r.d(t,"N",(function(){return u})),r.d(t,"J",(function(){return c})),r.d(t,"vb",(function(){return m})),r.d(t,"n",(function(){return p})),r.d(t,"hb",(function(){return d})),r.d(t,"T",(function(){return f})),r.d(t,"K",(function(){return b})),r.d(t,"Ob",(function(){return h})),r.d(t,"t",(function(){return g})),r.d(t,"Bb",(function(){return v})),r.d(t,"pb",(function(){return _})),r.d(t,"s",(function(){return x})),r.d(t,"kb",(function(){return w})),r.d(t,"A",(function(){return O})),r.d(t,"V",(function(){return y})),r.d(t,"L",(function(){return j})),r.d(t,"Tb",(function(){return k})),r.d(t,"u",(function(){return F})),r.d(t,"Ub",(function(){return S})),r.d(t,"v",(function(){return P})),r.d(t,"Pb",(function(){return C})),r.d(t,"o",(function(){return I})),r.d(t,"ib",(function(){return L})),r.d(t,"Wb",(function(){return D})),r.d(t,"Qb",(function(){return q})),r.d(t,"Kb",(function(){return $})),r.d(t,"l",(function(){return T})),r.d(t,"eb",(function(){return z})),r.d(t,"P",(function(){return N})),r.d(t,"Lb",(function(){return R})),r.d(t,"k",(function(){return V})),r.d(t,"db",(function(){return M})),r.d(t,"O",(function(){return E})),r.d(t,"h",(function(){return U})),r.d(t,"E",(function(){return B})),r.d(t,"bc",(function(){return A})),r.d(t,"Hb",(function(){return H})),r.d(t,"ab",(function(){return Q})),r.d(t,"Mb",(function(){return J})),r.d(t,"ac",(function(){return G})),r.d(t,"Ib",(function(){return K})),r.d(t,"i",(function(){return W})),r.d(t,"bb",(function(){return X})),r.d(t,"M",(function(){return Y})),r.d(t,"Nb",(function(){return Z})),r.d(t,"m",(function(){return ee})),r.d(t,"gb",(function(){return te})),r.d(t,"S",(function(){return re})),r.d(t,"Jb",(function(){return ae})),r.d(t,"Rb",(function(){return ne})),r.d(t,"p",(function(){return ie})),r.d(t,"U",(function(){return oe})),r.d(t,"jb",(function(){return se})),r.d(t,"Sb",(function(){return le})),r.d(t,"q",(function(){return ue})),r.d(t,"fb",(function(){return ce})),r.d(t,"Q",(function(){return me})),r.d(t,"Vb",(function(){return pe})),r.d(t,"r",(function(){return de})),r.d(t,"qb",(function(){return fe})),r.d(t,"W",(function(){return be})),r.d(t,"D",(function(){return he})),r.d(t,"ub",(function(){return ge})),r.d(t,"R",(function(){return ve})),r.d(t,"Gb",(function(){return _e})),r.d(t,"Fb",(function(){return xe})),r.d(t,"g",(function(){return we})),r.d(t,"x",(function(){return Oe})),r.d(t,"cc",(function(){return ye})),r.d(t,"Db",(function(){return je})),r.d(t,"Cb",(function(){return ke})),r.d(t,"X",(function(){return Fe})),r.d(t,"sb",(function(){return Se})),r.d(t,"yb",(function(){return Pe})),r.d(t,"xb",(function(){return Ce})),r.d(t,"e",(function(){return Ie})),r.d(t,"z",(function(){return Le})),r.d(t,"I",(function(){return De})),r.d(t,"ob",(function(){return qe})),r.d(t,"w",(function(){return $e})),r.d(t,"wb",(function(){return Te})),r.d(t,"d",(function(){return ze})),r.d(t,"Z",(function(){return Ne})),r.d(t,"H",(function(){return Re})),r.d(t,"Ab",(function(){return Ve})),r.d(t,"lb",(function(){return Me})),r.d(t,"nb",(function(){return Ee})),r.d(t,"y",(function(){return Ue})),r.d(t,"zb",(function(){return Be})),r.d(t,"a",(function(){return Ae})),r.d(t,"Zb",(function(){return He})),r.d(t,"F",(function(){return Qe})),r.d(t,"rb",(function(){return Je})),r.d(t,"b",(function(){return Ge})),r.d(t,"Yb",(function(){return Ke})),r.d(t,"G",(function(){return We})),r.d(t,"Eb",(function(){return Xe})),r.d(t,"f",(function(){return Ye})),r.d(t,"C",(function(){return Ze})),r.d(t,"tb",(function(){return et})),r.d(t,"B",(function(){return tt})),r.d(t,"Xb",(function(){return rt})),r.d(t,"c",(function(){return at})),r.d(t,"Y",(function(){return nt}));r("b4fb");var a=r("b775"),n=r("b60c"),i=r("0385");r("2ab73");function o(){return Object(a["a"])({url:"/api/permissions/getAllPermissions",method:"get"})}function s(e){return Object(a["a"])({url:"/api/permissions",method:"post",params:e})}function l(e,t){return Object(a["a"])({url:"/api/permissions/"+e,method:"patch",params:t})}function u(e){return Object(a["a"])({url:"/api/permissions/"+e,method:"delete"})}function c(e){return Object(a["a"])({url:"/api/permissions/deletePermissions",method:"post",params:{ids:e}})}function m(e){return Object(a["a"])({url:"/api/system/data",method:"get",params:e})}function p(e){return Object(a["a"])({url:"/api/roles",method:"post",params:e})}function d(e,t){return Object(a["a"])({url:"/api/roles/"+e,method:"patch",params:t})}function f(e){return Object(a["a"])({url:"/api/roles/"+e,method:"delete"})}function b(e){return Object(a["a"])({url:"/api/roles/deleteRoles",method:"post",params:{ids:e}})}function h(e){return Object(a["a"])({url:"/api/roles/"+e+"/permission",method:"get"})}function g(e,t){return Object(a["a"])({url:"/api/roles/"+e+"/assignPermission",method:"post",params:{permissions:t}})}function v(e){return Object(a["a"])({url:"/api/system/data",method:"get",params:e})}function _(e){return Object(a["a"])({url:"/api/channels",method:"get",params:e})}function x(e){return Object(a["a"])({url:"/api/users",method:"post",data:e})}function w(e,t){return Object(a["a"])({url:"/api/user/"+e,method:"patch",data:t})}function O(e,t){return Object(a["a"])({url:"/api/users/setStatus",method:"post",params:{ids:e,status:t}})}function y(e){return Object(a["a"])({url:"/api/user/"+e,method:"delete"})}function j(e){return Object(a["a"])({url:"/api/user/deleteUsers",method:"post",params:{ids:e}})}function k(e){return Object(a["a"])({url:"/api/user/"+e+"/permission",method:"get"})}function F(e,t){return Object(a["a"])({url:"/api/user/"+e+"/assignPermission",method:"post",params:{permissions:t}})}function S(e){return Object(a["a"])({url:"/api/user/"+e+"/roles",method:"get"})}function P(e,t){return Object(a["a"])({url:"/api/user/"+e+"/assignRole",method:"post",params:{roles:t}})}function C(e){return Object(a["a"])({url:"/api/sites",method:"get",params:e})}function I(e){return Object(a["a"])({url:"/api/sites",method:"post",data:e})}function L(e,t){return Object(a["a"])({url:"/api/sites/"+e,method:"patch",data:t})}function D(){return Object(a["a"])({url:"/api/zones",method:"get"})}function q(e){return Object(a["a"])({url:"/api/sites/"+e,method:"get"})}function $(e){return Object(a["a"])({url:"/api/products",method:"get",params:e})}function T(e){return Object(a["a"])({url:"/api/products",method:"post",data:e})}function z(e,t){return Object(a["a"])({url:"/api/products/"+e,method:"patch",data:t})}function N(e){return Object(a["a"])({url:"/api/products/"+e,method:"delete"})}function R(e){return Object(a["a"])({url:"/api/product_versions",method:"get",params:e})}function V(e){return Object(a["a"])({url:"/api/product_versions",method:"post",data:e})}function M(e,t){return Object(a["a"])({url:"/api/product_versions/"+e,method:"patch",data:t})}function E(e){return Object(a["a"])({url:"/api/product_versions/"+e,method:"delete"})}function U(e){return Object(a["a"])({url:"/api/channels",method:"post",data:e})}function B(e){return Object(a["a"])({url:"/api/channels/"+e,method:"delete"})}function A(e){return Object(a["a"])({url:"/api/channels/setSort",method:"post",data:e})}function H(e){return Object(a["a"])({url:"/api/channels/"+e,method:"get"})}function Q(e,t){return Object(a["a"])({url:"/api/channels/"+e,method:"patch",data:t})}function J(e){return Object(a["a"])({url:"/api/news/recycleBin",method:"get",params:e})}function G(e){return Object(a["a"])({url:"/api/news/restore",method:"post",params:{ids:e}})}function K(e){return Object(a["a"])({url:"/api/categories",method:"get",params:e})}function W(e){return Object(a["a"])({url:"/api/categories",method:"post",data:e})}function X(e,t){return Object(a["a"])({url:"/api/categories/"+e,method:"patch",data:t})}function Y(e){return Object(a["a"])({url:"/api/categories/"+e,method:"delete"})}function Z(e){return Object(a["a"])({url:"/api/resources",method:"get",params:e})}function ee(e){return Object(a["a"])({url:"/api/resources",method:"post",data:e})}function te(e,t){return Object(a["a"])({url:"/api/resources/"+e,method:"post",data:t})}function re(e){return Object(a["a"])({url:"/api/resources/"+e,method:"delete"})}function ae(e){return Object(a["a"])({url:"/api/resources/myResources",method:"get",params:e})}function ne(e){return Object(a["a"])({url:"/api/channels/getSpecialChannels",method:"get",params:e})}function ie(e){return Object(a["a"])({url:"/api/channels",method:"post",data:e})}function oe(e){return Object(a["a"])({url:"/api/channels/"+e,method:"delete"})}function se(e,t){return Object(a["a"])({url:"/api/channels/"+e,method:"patch",data:t})}function le(e){return Object(a["a"])({url:"/api/programs",method:"get",params:e})}function ue(e){return Object(a["a"])({url:"/api/programs",method:"post",data:e})}function ce(e,t){return Object(a["a"])({url:"/api/programs/"+e,method:"patch",data:t})}function me(e){return Object(a["a"])({url:"/api/programs/"+e,method:"delete"})}function pe(e){return Object(a["a"])({url:"/api/videos/vms_channels/?cloud=".concat(e),method:"get"})}function de(e){return Object(a["a"])({url:"/api/channels",method:"post",data:e})}function fe(e){return Object(a["a"])({url:"/api/channels/".concat(e,"/getChild"),method:"get"})}function be(e,t){return Object(a["a"])({url:"/api/channels/"+e,method:"patch",data:t})}function he(e){return Object(a["a"])({url:"/api/channels/"+e,method:"delete"})}function ge(e){return Object(a["a"])({url:"/api/replays/getReplaysByChannel",method:"get",params:e})}function ve(e){return Object(a["a"])({url:"/api/replays/"+e,method:"delete"})}function _e(e){return Object(a["a"])({url:"/api/broadcasts/".concat(e),method:"get"})}function xe(e,t){return Object(a["a"])({url:"/api/broadcastStatement?broadcast_id=".concat(e,"&stream_id=").concat(t),method:"get"})}function we(e){return Object(a["a"])({url:"/api/broadcastStatement",method:"post",data:e})}function Oe(){return Object(n["a"])({url:"/catalog/list",method:"get"})}function ye(e){return Object(n["a"])({url:"/style/catalogCodeStyle",method:"post",data:e})}function je(e){return Object(n["a"])({url:"/internal/uc/queryUserList",method:"post",data:e})}function ke(e){return Object(n["a"])({url:"/internal/uc/queryUserInfo",method:"get",params:e})}function Fe(e){return Object(n["a"])({url:"/internal/uc/updateUserInfo",method:"post",data:e})}function Se(e){return Object(n["a"])({url:"/internal/uc/queryInvitationcodeList",method:"post",data:e})}function Pe(e){return Object(n["a"])({url:"/internal/uc/qeurySrcretList",method:"post",data:e})}function Ce(e){return Object(n["a"])({url:"/internal/uc/querySrcretSet",method:"post",data:e})}function Ie(e){return Object(n["a"])({url:"/internal/uc/addSrcretSet",method:"post",data:e})}function Le(e){return Object(n["a"])({url:"/internal/uc/updateSrcretSet",method:"post",data:e})}function De(e){return Object(n["a"])({url:"/internal/uc/deleteSrcretSet",method:"post",data:e})}function qe(e){return Object(i["a"])({url:"/new/intranet/comment/getNoTalkUserList/page",method:"post",data:e})}function $e(e){return Object(i["a"])({url:"/new/intranet/comment/cancelNoTalkUser",method:"post",data:e})}function Te(e){return Object(n["a"])({url:"/internal/points/getRuleList",method:"post",data:e})}function ze(e){return Object(n["a"])({url:"/internal/points/ruleSave",method:"post",data:e})}function Ne(e){return Object(n["a"])({url:"/internal/points/ruleUpdate",method:"post",data:e})}function Re(e){return Object(n["a"])({url:"/internal/points/ruleDelete",method:"post",data:e})}function Ve(){return Object(n["a"])({url:"/internal/points/rule/typelist",method:"get"})}function Me(){return Object(n["a"])({url:"/internal/points/rule/actionlist",method:"get"})}function Ee(e){return Object(a["a"])({url:"/api/products/".concat(e),method:"get"})}function Ue(e,t){return Object(a["a"])({url:"/api/products/".concat(e),method:"patch",data:t})}function Be(){return Object(a["a"])({url:"/api/upload/getH5Dir",method:"get"})}function Ae(e){return Object(a["a"])({url:"/api/upload/mkdir",method:"post",data:e})}function He(e){return Object(a["a"])({url:"/api/upload/mkdir",method:"post",data:e})}function Qe(e){return Object(a["a"])({url:"/api/upload/rmdir",method:"post",data:e})}function Je(e){return Object(a["a"])({url:"/api/h5",method:"get",params:e})}function Ge(e){return Object(a["a"])({url:"/api/h5",method:"post",data:e})}function Ke(e,t){return Object(a["a"])({url:"/api/h5/".concat(e),method:"post",data:t})}function We(e){return Object(a["a"])({url:"/api/h5/".concat(e),method:"delete"})}function Xe(e){return Object(i["a"])({url:"/sensitive/whitetxt/list",method:"get",params:e})}function Ye(e){return Object(i["a"])({url:"/sensitive/whitetxt/add",method:"post",data:e})}function Ze(e){return Object(i["a"])({url:"/sensitive/whitetxt/del",method:"DELETE",data:e})}function et(e){return Object(n["a"])({url:"/publish/list",method:"post",data:e})}function tt(e){return Object(n["a"])({url:"/publish/delete?id=".concat(e),method:"post"})}function rt(e){return Object(n["a"])({url:"/meal/openList",method:"post",data:e})}function at(e){return Object(n["a"])({url:"/publish/setPublish",method:"post",data:e})}function nt(e){return Object(n["a"])({url:"/publish/update",method:"post",data:e})}},"1cfd":function(e,t,r){e.exports=r.p+"static/img/1402-240.597930fe.png"},"1d6e":function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",{staticClass:"xl-news-media"},[!e.disabled&&e.editorPerson?a("el-header",{staticStyle:{"background-color":"#fff","line-height":"40px"},attrs:{height:"40px"}},[a("span",{staticStyle:{color:"#409eff","margin-right":"10px"}},[e._v(e._s(e.editorPerson))]),e._v(" 当前正在编辑该文稿 ")]):e._e(),a("el-main",{staticStyle:{padding:"10px 0"}},[a("el-tabs",{staticClass:"xl-news-media--tab",on:{"tab-click":function(t){return e.handleTabChange("tab")}},model:{value:e.from.extra.type,callback:function(t){e.$set(e.from.extra,"type",t)},expression:"from.extra.type"}},e._l(e.tabs,(function(e){return a("el-tab-pane",{key:e.value,attrs:{disabled:"",label:e.label,name:e.value}})})),1),a("el-form",{ref:"submitForm",staticStyle:{"max-height":"600px",overflow:"auto"},attrs:{"label-width":"100px",size:"small",disabled:e.disabled,model:e.from,rules:e.currentTabsFromRules}},[a("el-row",{staticClass:"xl-news-media--bc",staticStyle:{"margin-bottom":"20px"}},[a("el-col",{attrs:{span:24}},[a("el-row",{staticClass:"xl-news-media--title"},[a("el-col",{attrs:{span:24}},[e._v("图文设置")])],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",e._b({directives:[{name:"show",rawName:"v-show",value:e.initFrom().includes("extra.title"),expression:"initFrom().includes('extra.title')"}]},"el-form-item",e.formOptions["extra.title"].item.props,!1),[a("el-input",e._b({staticStyle:{width:"200px"},attrs:{value:e.parseObj(e.formOptions["extra.title"].item),clearable:"",size:"small"},on:{input:function(t){return e.handleInput(t,e.formOptions["extra.title"].item)}}},"el-input",e.formOptions["extra.title"].item.componentProps,!1))],1),a("el-form-item",e._b({directives:[{name:"show",rawName:"v-show",value:e.initFrom().includes("extra.intro"),expression:"initFrom().includes('extra.intro')"}]},"el-form-item",e.formOptions["extra.intro"].item.props,!1),[a("el-input",e._b({attrs:{value:e.parseObj(e.formOptions["extra.intro"].item),rows:6,clearable:"",size:"small"},on:{input:function(t){return e.handleInput(t,e.formOptions["extra.intro"].item)}}},"el-input",e.formOptions["extra.intro"].item.componentProps,!1))],1),a("el-form-item",e._b({directives:[{name:"show",rawName:"v-show",value:e.initFrom().includes("extra.tags"),expression:"initFrom().includes('extra.tags')"}]},"el-form-item",e.formOptions["extra.tags"].item.props,!1),[a("el-select",e._b({staticStyle:{width:"300px"},attrs:{value:e.parseObj(e.formOptions["extra.tags"].item),size:"small",clearable:""},on:{input:function(t){return e.handleInput(t,e.formOptions["extra.tags"].item)}}},"el-select",e.formOptions["extra.tags"].item.componentProps,!1),e._l(e.tagLists,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",e._b({directives:[{name:"show",rawName:"v-show",value:e.initFrom().includes("extra.keywords"),expression:"initFrom().includes('extra.keywords')"}]},"el-form-item",e.formOptions["extra.keywords"].item.props,!1),[a("tag",{attrs:{disabled:e.disabled,value:e.parseObj(e.formOptions["extra.keywords"].item)},on:{input:function(t){return e.handleInput(t,e.formOptions["extra.keywords"].item)}}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",e._b({directives:[{name:"show",rawName:"v-show",value:e.initFrom().includes("extra.subtitle"),expression:"initFrom().includes('extra.subtitle')"}]},"el-form-item",e.formOptions["extra.subtitle"].item.props,!1),[a("el-input",e._b({staticStyle:{width:"200px"},attrs:{value:e.parseObj(e.formOptions["extra.subtitle"].item),rows:4,clearable:"",size:"small"},on:{input:function(t){return e.handleInput(t,e.formOptions["extra.subtitle"].item)}}},"el-input",e.formOptions["extra.subtitle"].item.componentProps,!1))],1),a("el-form-item",e._b({directives:[{name:"show",rawName:"v-show",value:e.initFrom().includes("extra.template_style"),expression:"initFrom().includes('extra.template_style')"}]},"el-form-item",e.formOptions["extra.template_style"].item.props,!1),[a("el-radio-group",{attrs:{size:"small",value:e.parseObj(e.formOptions["extra.template_style"].item)},on:{input:function(t){return e.handleInput(t,e.formOptions["extra.template_style"].item)},change:e.handleTabChange}},e._l(e.formOptions["extra.template_style"].item.lists,(function(t){return a("el-radio",{key:t.value,staticStyle:{"line-height":"32px"},attrs:{label:t.value}},[a("el-popover",{attrs:{placement:"top",trigger:"hover"}},[a("span",{attrs:{slot:"reference"},slot:"reference"},[e._v(e._s(t.label))]),a("img",{attrs:{src:r("9795")("./"+t.img),alt:"",width:"300px"}})])],1)})),1)],1),a("el-form-item",e._b({directives:[{name:"show",rawName:"v-show",value:e.initFrom().includes("extra.cover"),expression:"initFrom().includes('extra.cover')"}]},"el-form-item",e.formOptions["extra.cover"].item.props,!1),[a("cropper",e._b({attrs:{disabled:e.disabled,value:e.parseObj(e.formOptions["extra.cover"].item)},on:{input:function(t){return e.handleInput(t,e.formOptions["extra.cover"].item)}}},"cropper",e.formOptions["extra.cover"].item.componentProps,!1))],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",e._b({directives:[{name:"show",rawName:"v-show",value:e.initFrom().includes("extra.custom_rec"),expression:"initFrom().includes('extra.custom_rec')"}]},"el-form-item",e.formOptions["extra.custom_rec"].item.props,!1),[a("script-select",{attrs:{value:e.parseObj(e.formOptions["extra.custom_rec"].item)},on:{input:function(t){return e.handleInput(t,e.formOptions["extra.custom_rec"].item)}}})],1),a("el-form-item",e._b({directives:[{name:"show",rawName:"v-show",value:e.initFrom().includes("extra.use_watermarks"),expression:"initFrom().includes('extra.use_watermarks')"}]},"el-form-item",e.formOptions["extra.use_watermarks"].item.props,!1),[a("el-select",e._b({staticStyle:{width:"200px"},attrs:{value:e.parseObj(e.formOptions["extra.use_watermarks"].item),size:"small",clearable:""},on:{input:function(t){return e.handleInput(t,e.formOptions["extra.use_watermarks"].item)}}},"el-select",e.formOptions["extra.use_watermarks"].item.componentProps,!1),e._l(e.formOptions["extra.use_watermarks"].item.lists,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",e._b({directives:[{name:"show",rawName:"v-show",value:e.initFrom().includes("extra.content"),expression:"initFrom().includes('extra.content')"}]},"el-form-item",e.formOptions["extra.content"].item.props,!1),[e.editorInit?a("editor",{attrs:{watermark:e.watermark,position:e.parseObj(e.formOptions["extra.use_watermarks"].item),disabled:e.disabled,value:e.parseObj(e.formOptions["extra.content"].item)},on:{input:function(t){return e.handleInput(t,e.formOptions["extra.content"].item)},changeVideoList:e.changeVideoList}}):e._e()],1),a("el-form-item",e._b({directives:[{name:"show",rawName:"v-show",value:e.initFrom().includes("extra.video_extra.video_list"),expression:"initFrom().includes('extra.video_extra.video_list')"}]},"el-form-item",e.formOptions["extra.video_extra.video_list"].item.props,!1),[a("div",{staticClass:"xl-news-media--upload",on:{click:e.handleChangeVideo}},[e.from.extra.video_extra.video_list[0]?a("el-image",{staticClass:"el-upload-list__item-thumbnail",staticStyle:{width:"100%",height:"100%"},attrs:{lazy:"",src:e.from.extra.video_extra.video_list[0].cover,fit:"contain"}}):a("i",{staticClass:"el-icon-video-camera-solid"})],1)]),a("el-form-item",e._b({directives:[{name:"show",rawName:"v-show",value:e.initFrom().includes("extra.album_extra.image_list"),expression:"initFrom().includes('extra.album_extra.image_list')"}]},"el-form-item",e.formOptions["extra.album_extra.image_list"].item.props,!1),[a("img-table",{attrs:{value:e.parseObj(e.formOptions["extra.album_extra.image_list"].item)},on:{input:function(t){return e.handleInput(t,e.formOptions["extra.album_extra.image_list"].item)}}})],1),a("el-form-item",e._b({directives:[{name:"show",rawName:"v-show",value:e.initFrom().includes("extra.link.type"),expression:"initFrom().includes('extra.link.type')"}]},"el-form-item",e.formOptions["extra.link.type"].item.props,!1),[a("el-radio-group",{attrs:{size:"small",value:e.parseObj(e.formOptions["extra.link.type"].item)},on:{input:function(t){return e.handleInput(t,e.formOptions["extra.link.type"].item)},change:e.handleTabChange}},e._l(e.formOptions["extra.link.type"].item.lists,(function(t){return a("el-radio",{key:t.value,attrs:{label:t.value}},[e._v(e._s(t.label))])})),1)],1),a("el-form-item",e._b({directives:[{name:"show",rawName:"v-show",value:e.initFrom().includes("extra.link.url"),expression:"initFrom().includes('extra.link.url')"}]},"el-form-item",e.formOptions["extra.link.url"].item.props,!1),[a("el-input",e._b({staticStyle:{width:"200px"},attrs:{value:e.parseObj(e.formOptions["extra.link.url"].item),clearable:"",size:"small"},on:{input:function(t){return e.handleInput(t,e.formOptions["extra.link.url"].item)}}},"el-input",e.formOptions["extra.link.url"].item.componentProps,!1))],1),a("el-form-item",e._b({directives:[{name:"show",rawName:"v-show",value:e.initFrom().includes("target_obj"),expression:"initFrom().includes('target_obj')"}]},"el-form-item",e.formOptions["target_obj"].item.props,!1),[a("el-radio-group",{attrs:{size:"small",value:e.parseObj(e.formOptions["target_obj"].item)},on:{input:function(t){return e.handleInput(t,e.formOptions["target_obj"].item)},change:e.handleTabChange}},e._l(e.formOptions["target_obj"].item.lists,(function(t){return a("el-radio",{key:t.value,attrs:{label:t.value}},[e._v(e._s(t.label))])})),1)],1),a("el-form-item",e._b({directives:[{name:"show",rawName:"v-show",value:e.initFrom().includes("extra.link.id"),expression:"initFrom().includes('extra.link.id')"}],attrs:{"label-width":"126px"}},"el-form-item",e.formOptions["extra.link.id"].item.props,!1),[a("el-input",e._b({staticStyle:{width:"200px"},attrs:{value:e.parseObj(e.formOptions["extra.link.id"].item),clearable:"",size:"small"},on:{input:function(t){return e.handleInput(t,e.formOptions["extra.link.id"].item)}}},"el-input",e.formOptions["extra.link.id"].item.componentProps,!1))],1)],1)],1)],1)],1),a("el-row",{attrs:{gutter:20,type:"flex"}},[a("el-col",{attrs:{span:12}},[a("div",{staticClass:"xl-news-media--bc xl-news-media--row"},[a("el-row",{staticClass:"xl-news-media--title"},[a("el-col",{attrs:{span:24}},[e._v("发布设置")])],1),a("el-form-item",e._b({directives:[{name:"show",rawName:"v-show",value:e.initFrom().includes("extra.publish_timer.status"),expression:"initFrom().includes('extra.publish_timer.status')"}]},"el-form-item",e.formOptions["extra.publish_timer.status"].item.props,!1),[a("el-radio-group",{attrs:{size:"small",value:e.parseObj(e.formOptions["extra.publish_timer.status"].item)},on:{input:function(t){return e.handleInput(t,e.formOptions["extra.publish_timer.status"].item)},change:e.handleTabChange}},e._l(e.formOptions["extra.publish_timer.status"].item.lists,(function(t){return a("el-radio",{key:t.value,attrs:{label:t.value}},[e._v(e._s(t.label))])})),1)],1),a("el-form-item",e._b({directives:[{name:"show",rawName:"v-show",value:e.initFrom().includes("extra.publish_timer.publish_at"),expression:"initFrom().includes('extra.publish_timer.publish_at')"}],attrs:{"label-width":"130"}},"el-form-item",e.formOptions["extra.publish_timer.publish_at"].item.props,!1),[a("el-date-picker",{attrs:{type:"datetime",size:"small","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"选择日期时间",value:e.parseObj(e.formOptions["extra.publish_timer.publish_at"].item)},on:{input:function(t){return e.handleInput(t,e.formOptions["extra.publish_timer.publish_at"].item)}}})],1),a("el-form-item",e._b({directives:[{name:"show",rawName:"v-show",value:e.initFrom().includes("extra.set_created_at"),expression:"initFrom().includes('extra.set_created_at')"}]},"el-form-item",e.formOptions["extra.set_created_at"].item.props,!1),[a("el-date-picker",{attrs:{type:"datetime",size:"small","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"选择日期时间",value:e.parseObj(e.formOptions["extra.set_created_at"].item)},on:{input:function(t){return e.handleInput(t,e.formOptions["extra.set_created_at"].item)}}})],1),a("el-form-item",e._b({directives:[{name:"show",rawName:"v-show",value:e.initFrom().includes("author_name"),expression:"initFrom().includes('author_name')"}]},"el-form-item",e.formOptions["author_name"].item.props,!1),[a("tag",{attrs:{disabled:e.disabled,value:e.parseObj(e.formOptions["author_name"].item)},on:{input:function(t){return e.handleInput(t,e.formOptions["author_name"].item)}}})],1),a("el-form-item",e._b({directives:[{name:"show",rawName:"v-show",value:e.initFrom().includes("editor_name"),expression:"initFrom().includes('editor_name')"}]},"el-form-item",e.formOptions["editor_name"].item.props,!1),[a("tag",{attrs:{disabled:e.disabled,value:e.parseObj(e.formOptions["editor_name"].item)},on:{input:function(t){return e.handleInput(t,e.formOptions["editor_name"].item)}}})],1),a("el-form-item",e._b({directives:[{name:"show",rawName:"v-show",value:e.initFrom().includes("extra.is_original"),expression:"initFrom().includes('extra.is_original')"}]},"el-form-item",e.formOptions["extra.is_original"].item.props,!1),[a("el-radio-group",{attrs:{size:"small",value:e.parseObj(e.formOptions["extra.is_original"].item)},on:{input:function(t){return e.handleInput(t,e.formOptions["extra.is_original"].item)},change:e.handleTabChange}},e._l(e.formOptions["extra.is_original"].item.lists,(function(t){return a("el-radio",{key:t.value,attrs:{label:t.value}},[e._v(e._s(t.label))])})),1)],1),a("el-form-item",e._b({directives:[{name:"show",rawName:"v-show",value:e.initFrom().includes("extra.source"),expression:"initFrom().includes('extra.source')"}]},"el-form-item",e.formOptions["extra.source"].item.props,!1),[a("el-input",e._b({staticStyle:{width:"200px"},attrs:{value:e.parseObj(e.formOptions["extra.source"].item),rows:4,clearable:"",size:"small"},on:{input:function(t){return e.handleInput(t,e.formOptions["extra.source"].item)}}},"el-input",e.formOptions["extra.source"].item.componentProps,!1))],1)],1)]),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"xl-news-media--bc xl-news-media--row"},[a("el-row",{staticClass:"xl-news-media--title"},[a("el-col",{attrs:{span:24}},[e._v("推广设置")])],1),a("el-form-item",e._b({directives:[{name:"show",rawName:"v-show",value:e.initFrom().includes("extra.allow_comment"),expression:"initFrom().includes('extra.allow_comment')"}]},"el-form-item",e.formOptions["extra.allow_comment"].item.props,!1),[a("el-radio-group",{attrs:{size:"small",value:e.parseObj(e.formOptions["extra.allow_comment"].item)},on:{input:function(t){return e.handleInput(t,e.formOptions["extra.allow_comment"].item)},change:e.handleTabChange}},e._l(e.formOptions["extra.allow_comment"].item.lists,(function(t){return a("el-radio",{key:t.value,attrs:{label:t.value}},[e._v(e._s(t.label))])})),1)],1),a("el-form-item",e._b({directives:[{name:"show",rawName:"v-show",value:e.initFrom().includes("extra.allow_share"),expression:"initFrom().includes('extra.allow_share')"}]},"el-form-item",e.formOptions["extra.allow_share"].item.props,!1),[a("el-radio-group",{attrs:{size:"small",value:e.parseObj(e.formOptions["extra.allow_share"].item)},on:{input:function(t){return e.handleInput(t,e.formOptions["extra.allow_share"].item)},change:e.handleTabChange}},e._l(e.formOptions["extra.allow_share"].item.lists,(function(t){return a("el-radio",{key:t.value,attrs:{label:t.value}},[e._v(e._s(t.label))])})),1)],1),a("el-form-item",e._b({directives:[{name:"show",rawName:"v-show",value:e.initFrom().includes("extra.trans_to_audio"),expression:"initFrom().includes('extra.trans_to_audio')"}],attrs:{"label-width":"150"}},"el-form-item",e.formOptions["extra.trans_to_audio"].item.props,!1),[a("el-radio-group",{attrs:{size:"small",value:e.parseObj(e.formOptions["extra.trans_to_audio"].item)},on:{input:function(t){return e.handleInput(t,e.formOptions["extra.trans_to_audio"].item)},change:e.handleTabChange}},e._l(e.formOptions["extra.trans_to_audio"].item.lists,(function(t){return a("el-radio",{key:t.value,attrs:{label:t.value}},[e._v(e._s(t.label))])})),1)],1),a("el-form-item",e._b({directives:[{name:"show",rawName:"v-show",value:e.initFrom().includes("extra.view_base_num"),expression:"initFrom().includes('extra.view_base_num')"}]},"el-form-item",e.formOptions["extra.view_base_num"].item.props,!1),[a("el-input-number",{staticStyle:{width:"200px"},attrs:{controls:!1,precision:0,min:e.viewBaseInterval.min,max:e.viewBaseInterval.max,placeholder:e.basePlaceholder,clearable:""},model:{value:e.from.extra.view_base_num,callback:function(t){e.$set(e.from.extra,"view_base_num",t)},expression:"from.extra.view_base_num"}})],1),a("el-form-item",e._b({directives:[{name:"show",rawName:"v-show",value:e.initFrom().includes("extra.praise_base_num"),expression:"initFrom().includes('extra.praise_base_num')"}]},"el-form-item",e.formOptions["extra.praise_base_num"].item.props,!1),[a("el-input",e._b({staticStyle:{width:"200px"},attrs:{value:e.parseObj(e.formOptions["extra.praise_base_num"].item),rows:4,clearable:"",size:"small"},on:{input:function(t){return e.handleInput(t,e.formOptions["extra.praise_base_num"].item)}}},"el-input",e.formOptions["extra.praise_base_num"].item.componentProps,!1))],1),a("el-form-item",e._b({directives:[{name:"show",rawName:"v-show",value:e.initFrom().includes("extra.post_base_num"),expression:"initFrom().includes('extra.post_base_num')"}]},"el-form-item",e.formOptions["extra.post_base_num"].item.props,!1),[a("el-input",e._b({staticStyle:{width:"200px"},attrs:{value:e.parseObj(e.formOptions["extra.post_base_num"].item),rows:4,clearable:"",size:"small"},on:{input:function(t){return e.handleInput(t,e.formOptions["extra.post_base_num"].item)}}},"el-input",e.formOptions["extra.post_base_num"].item.componentProps,!1))],1)],1)])],1)],1)],1),e.disabled?e._e():a("el-footer",{staticClass:"xl-news-media--footer",attrs:{height:"40px"}},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.handleClose}},[e._v(" 关闭 ")]),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.handleSave}},[e._v(" 保存 ")])],1),a("el-dialog",{attrs:{width:"1000px",top:"4vh","append-to-body":"",title:e.videoDialog.title,visible:e.videoDialog.show},on:{"update:visible":function(t){return e.$set(e.videoDialog,"show",t)}}},[a("xl-video",{on:{choose:e.videoDialogControl}})],1)],1)},n=[],i=r("99a5"),o=r("190b"),s=r("46d3"),l=r("1c03"),u=(r("6a61"),r("513c"),r("77ad"),r("fe8a"),r("15d9"),r("b4fb"),r("e35a"),r("0d7a"),r("e18c"),r("1c2e"),r("9302"),r("4194"),r("ea69"),r("31a0"),r("b130"),r("98e0"),r("96db"),r("dbb3"),r("2eeb"),r("053b"),r("b49d")),c=r("cc48"),m=r("0d9b"),p=r("1ef3"),d=r("90ba"),f=r("d242"),b=r("156b"),h={name:"NewDetail",components:{Cropper:u["a"],ImgTable:p["a"],Tag:m["a"],xlVideo:f["a"],scriptSelect:d["a"],Editor:b["a"]},props:{id:{type:[Number,String],required:!0},disabled:{type:Boolean,default:!1},fetchSuggestions:Function},data:function(){var e=this,t=function(t,r,a){var n=e.formOptions["extra.cover"].item.componentProps.count;Array.isArray(r)&&0!==r.length?r.slice(0,n).every((function(e){return e.path}))?a():a(new Error("请上传".concat(n,"张封面图片"))):a(new Error("请上传封面图片"))},r=function(e,t,r){Array.isArray(t)&&0!==t.length?t.every((function(e){return Object.keys(e).every((function(t){return""!==e[t]}))}))?r():r(new Error("请填写完成图片信息")):r(new Error("请上传图片"))};return{formOptions:Object.freeze({"extra.title":{item:{key:"extra.title",props:{label:"标题:",prop:"extra.title"},component:"input",componentProps:{placeholder:"请输入新闻标题"}},rule:[{required:!0,message:"请输入新闻标题",trigger:"blur"}]},"extra.subtitle":{item:{key:"extra.subtitle",props:{label:"副标题:"},component:"input",componentProps:{placeholder:"请输入新闻副标题"}}},"extra.template_style":{item:{key:"extra.template_style",props:{label:"封面样式:",prop:"extra.template_style"},component:"radio",lists:[{label:"纯文本",value:"240",count:1,img:"1402-240.png"},{label:"三图下文本",value:"230",count:3,img:"1402-230.png"},{label:"三图上文本",value:"231",count:3,img:"1402-231.png"},{label:"左图+标题1",value:"220",count:1,img:"1402-220.png"},{label:"左图+标题2",value:"222",count:1,img:"1402-222.png"},{label:"右图+标题",value:"221",count:1,img:"1402-221.png"},{label:"播放器2",value:"211",count:1,img:"1402-211.png"},{label:"播放器3",value:"212",count:1,img:"1402-212.png"},{label:"大图1",value:"200",count:1,img:"1402-200.png"},{label:"大图2",value:"201",count:1,img:"1402-201.png"},{label:"大图3",value:"202",count:1,img:"1402-202.png"},{label:"大图4",value:"203",count:1,img:"1402-203.png"},{label:"大图7",value:"206",count:1,img:"1402-206.png"}]},rule:[{required:!0,message:"请选择封面样式",trigger:"change"}]},"extra.cover":{item:{key:"extra.cover",props:{label:"",prop:"extra.cover"},component:"cropper",componentProps:{count:1}},rule:[{validator:t,trigger:"change"}]},"extra.intro":{item:{key:"extra.intro",props:{label:"简介:"},component:"input",componentProps:{placeholder:"请输入新闻简介",type:"textarea",maxlength:200}}},"extra.tags":{item:{key:"extra.tags",props:{label:"标签:"},component:"select",componentProps:{placeholder:"请选择标签",multiple:!0},lists:[]}},"extra.keywords":{item:{key:"extra.keywords",props:{label:"关键词:"},component:"tag"}},"extra.publish_timer.status":{item:{key:"extra.publish_timer.status",props:{label:"定时发布:",prop:"extra.publish_timer.status"},component:"radio",lists:[{label:"是",value:"1"},{label:"否",value:"0"}]},rule:[{required:!0,message:"请选择是否定时发布",trigger:"change"}]},"extra.publish_timer.publish_at":{item:{key:"extra.publish_timer.publish_at",props:{label:"定时发布时间:",prop:"extra.publish_timer.publish_at"},component:"date"},rule:[{required:!0,message:"请选择定时发布时间",trigger:"change"}]},"extra.set_created_at":{item:{key:"extra.set_created_at",props:{label:"发布时间:",prop:"extra.set_created_at"},component:"date"}},"extra.video_extra.video_list":{item:{key:"extra.video_extra.video_list",props:{label:"视频:",prop:"extra.video_extra.video_list"},component:"video"},rule:[{required:!0,message:"请选择视频",trigger:"change"}]},"extra.album_extra.image_list":{item:{key:"extra.album_extra.image_list",props:{label:"图片:",prop:"extra.album_extra.image_list"},component:"table"},rule:[{validator:r,trigger:"change"}]},"extra.content":{item:{key:"extra.content",props:{label:"编辑器:",prop:"extra.content"},component:"edit"},rule:[{required:!0,message:"请输入编辑器内容",trigger:"blur"}]},author_name:{item:{key:"author_name",props:{label:"作者:"},component:"tag"}},editor_name:{item:{key:"editor_name",props:{label:"编辑:"},component:"tag"}},"extra.is_original":{item:{key:"extra.is_original",props:{label:"是否原创:",prop:"extra.is_original"},component:"radio",lists:[{label:"原创",value:"1"},{label:"来源",value:"0"}]},rule:[{required:!0,message:"请选择是否原创",trigger:"change"}]},"extra.source":{item:{key:"extra.source",props:{label:"来源:",prop:"extra.source"},component:"input",componentProps:{placeholder:"请输入来源"}},rule:[{required:!0,message:"请输入来源",trigger:"blur"}]},"extra.use_watermarks":{item:{key:"extra.use_watermarks",props:{label:"水印位置:",prop:"extra.use_watermarks"},componentProps:{placeholder:"请选择水印位置(无表示不使用水印)"},component:"select",lists:[{value:"nw",label:"左上"},{value:"north",label:"中上"},{value:"ne",label:"右上"},{value:"west",label:"左"},{value:"center",label:"中"},{value:"east",label:"右"},{value:"sw",label:"左下"},{value:"south",label:"中下"},{value:"se",label:"右下"},{value:"",label:"无"}]}},"extra.allow_comment":{item:{key:"extra.allow_comment",props:{label:"评论控制:",prop:"extra.allow_comment"},component:"radio",lists:[{label:"先审后发",value:"0"},{label:"先发后审",value:"1"},{label:"禁止评论",value:"2"}]},rule:[{required:!0,message:"请选择评论控制",trigger:"change"}]},"extra.allow_share":{item:{key:"extra.allow_share",props:{label:"允许分享:",prop:"extra.allow_share"},component:"radio",lists:[{label:"是",value:"1"},{label:"否",value:"0"}]},rule:[{required:!0,message:"请选择是否允许分享",trigger:"change"}]},"extra.trans_to_audio":{item:{key:"extra.trans_to_audio",props:{label:"同步生成语音新闻:",prop:"extra.trans_to_audio"},component:"radio",lists:[{label:"是",value:"1"},{label:"否",value:"0"}]},rule:[{required:!0,message:"请选择是否同步生成语音新闻",trigger:"change"}]},"extra.view_base_num":{item:{key:"extra.view_base_num",props:{label:"点击量:"},type:"number",component:"input",componentProps:{placeholder:"请输入数值"}}},"extra.praise_base_num":{item:{key:"extra.praise_base_num",props:{label:"点赞量:"},type:"number",component:"input",componentProps:{placeholder:"请输入数值"}}},"extra.post_base_num":{item:{key:"extra.post_base_num",props:{label:"转发量:"},type:"number",component:"input",componentProps:{placeholder:"请输入数值"}}},"extra.custom_rec":{item:{key:"extra.custom_rec",props:{label:"相关文稿:"},component:"scriptSelect"}},"extra.link.type":{item:{key:"extra.link.type",props:{label:"链接类型:",prop:"extra.link.type"},component:"radio",lists:[{label:"目标对象",value:"target_obj"},{label:"外链",value:"outer_link"},{label:"授权外链",value:"auth_link"},{label:"看报纸",value:"newspaper"},{label:"乡镇首页",value:"matrix",relatedLabel:"对应矩阵栏目ID"},{label:"专题",value:"topic",relatedLabel:"专题栏目ID"},{label:"多模块专题",value:"multi_model_topic",relatedLabel:"多模块专题栏目ID"},{label:"活动",value:"activity",relatedLabel:"活动ID"},{label:"内部其他功能",value:"internal_link",relatedLabel:"对应功能ID"}]},rule:[{required:!0,message:"请选择链接类型",trigger:"change"}]},target_obj:{item:{key:"target_obj",props:{label:"链接对象:",prop:"target_obj"},component:"radio",lists:[{label:"看电视",value:"tv"},{label:"听广播",value:"radio"},{label:"爆料",value:"tip-off"},{label:"服务",value:"service"}]},rule:[{required:!0,message:"请选择链接对象",trigger:"change"}]},"extra.link.id":{item:{key:"extra.link.id",props:{label:"ID:",prop:"extra.link.id"},component:"input",componentProps:{placeholder:"请输入ID"}},rule:{required:!0,message:"请选择链接对象",trigger:"change"}},"extra.link.url":{item:{key:"extra.link.url",props:{label:"链接地址:",prop:"extra.link.url"},component:"input",componentProps:{placeholder:"请输入链接地址"}},rule:[{required:!0,message:"请输入链接地址",trigger:"blur"}]}}),tabs:[{label:"图文",value:"news"},{label:"视频",value:"video"},{label:"图集",value:"album"},{label:"外链",value:"outer_link"}],currentTabsFromRules:{},from:{author_name:"",editor_name:"",target_obj:"tv",extra:{type:"news",title:"",subtitle:"",template_style:"240",cover:[],intro:"",tags:"",keywords:"",publish_timer:{publish_at:"",status:"0"},set_created_at:"",content:"",is_original:"1",source:"",use_watermarks:"",allow_comment:"0",allow_share:"1",trans_to_audio:"1",view_base_num:void 0,praise_base_num:"",post_base_num:"",custom_rec:[],video_extra:{video_list:[]},album_extra:{image_list:[]},link:{type:"target_obj",id:"",url:""}}},videoDialog:{title:"选择视频",show:!1,radio:"",video:"",width:"",height:""},cascaderOption:{checkStrictly:!0,emitPath:!1,value:"id",label:"name",multiple:!0},editorPerson:"",editorVideoLists:[],tagLists:[],editorInit:!1}},computed:{actionUrl:function(){return this.imgurl},viewBaseInterval:function(e){var t,r,a=e.$store.state.user.u_info,n=a.site.extra||{},i=Number((null===(t=n.random_view_range)||void 0===t?void 0:t.max)||0)||1/0,o=Number((null===(r=n.random_view_range)||void 0===r?void 0:r.min)||0);return{min:o,max:i}},basePlaceholder:function(e){var t=e.viewBaseInterval,r=t.max,a=t.min;return r===1/0?"请输入大于".concat(a,"的的正整数"):"请输入".concat(a,"-").concat(r,"的正整数")},watermark:function(e){var t=e.$store.state.user.u_info,r=t.site.extra||{};return r.watermark||""}},watch:{id:{handler:function(e){""!==e&&this.getData()},immediate:!0}},created:function(){var e=this;if(this.getLabels(),!this.disabled){this.getEditorPerson();var t=setInterval((function(){e.getEditorPerson()}),8e3);this.$once("hook:beforeDestroy",(function(){clearInterval(t)}))}},methods:{parseObj:function(e){var t=e.key.split("."),r=t.reduce((function(e,t){return e[t]}),this.from);return"select"===e.component&&e.componentProps.multiple?r&&r.toString().split(","):r},handleInput:function(e,t){var r=t.key.split("."),a=t.type||"string";"number"===a&&(e=parseInt(e)||""),r.reduce((function(a,n){if(n!==r[r.length-1])return a[n];a[n]="select"===t.component&&t.componentProps.multiple?e.join():e}),this.from)},handleChangeVideo:function(){this.videoDialog.show=!0},videoDialogControl:function(e){this.videoDialog.show=!1,this.from.extra.video_extra.video_list=[e]},handleUploadImageSuccess:function(e){e.status_code>=200&&e.status_code<300&&(this.$message.success("图片上传成功!"),this.videoDialog.video=e.path)},initFrom:function(){var e=this,t=[],r=this.formOptions["extra.template_style"].item.lists.find((function(t){return t.value===e.from.extra.template_style}));this.formOptions["extra.cover"].item.componentProps.count=(null===r||void 0===r?void 0:r.count)||1;var a=["extra.title","extra.subtitle","extra.template_style","extra.cover","extra.intro","extra.tags","extra.keywords","extra.publish_timer.status","extra.set_created_at"];"1"===this.from.extra.publish_timer.status&&a.push("extra.publish_timer.publish_at");var n=["author_name","editor_name","extra.is_original","extra.allow_comment","extra.allow_share","extra.trans_to_audio","extra.view_base_num","extra.praise_base_num","extra.post_base_num"];switch("0"===this.from.extra.is_original&&n.splice(2,0,"extra.source"),this.from.extra.type){case"news":t=[].concat(a,["extra.content","extra.custom_rec","extra.use_watermarks"],n);break;case"video":t=[].concat(a,["extra.video_extra.video_list","extra.custom_rec"],n);break;case"album":t=[].concat(a,["extra.album_extra.image_list"],n);break;case"outer_link":t=[].concat(a,["extra.link.type"]);var i=this.from.extra.link.type;if("target_obj"===i)t.push("target_obj");else if(["outer_link","auth_link","newspaper"].includes(i))t.push("extra.link.url");else{var o=this.formOptions["extra.link.type"].item.lists.find((function(e){return e.value===i}));this.formOptions["extra.link.id"].item.props.label="".concat(o.relatedLabel,":"),this.formOptions["extra.link.id"].rule.message="请输入".concat(o.relatedLabel),t.push("extra.link.id")}break}return t},delEditorVideo:function(e){var t=document.createElement("div");t.innerHTML=e;var r=Array.from(t.querySelectorAll("video"));return r.length?this.editorVideoLists.filter((function(e){return r.find((function(t){return t.title===e.title&&t.cover===e.poster}))})):[]},handleSave:function(){var e=this;this.$refs.submitForm.validate((function(t,r){if(t){var a,n,i=e.initFrom(),o=e.from.extra.type,s=e.formOptions["extra.cover"].item.componentProps.count,u=Object(l["a"])({},i.reduce((function(t,r){return a=r.split("."),a[1]?(n=e.from[a[0]][a[1]],t[a[0]][a[1]]="cover"===a[1]?n.slice(0,s):n):t[a[0]]=e.from[a[0]],t}),{extra:{type:o}}));u.extra.link&&"target_obj"===u.extra.link.type&&(u.extra.link=Object(l["a"])(Object(l["a"])({},u.extra.link),{},{type:u.target_obj})),delete u.target_obj,"news"===u.extra.type&&(u.extra.video_extra={video_list:e.delEditorVideo(u.extra.content)}),Object(c["d"])(e.id,u).then((function(t){var r=t.statu_code,a=t.message;e.handleClose(),r?e.$message.error(a):(e.$message.success("保存草稿成功!"),e.$emit("refresh"))}))}else e.$message.warning(Object.keys(r).map((function(e){return r[e][0].message})).join())}))},handleClose:function(){this.$emit("update:visible",!1)},handleTabChange:function(e){var t=this,r=this.initFrom();this.currentTabsFromRules=r.reduce((function(e,r){return Object(l["a"])(Object(l["a"])({},e),{},Object(s["a"])({},r,t.formOptions[r].rule))}),{}),this.$nextTick((function(){var r;"tab"===e&&Object.assign(t.from.extra,{video_extra:{video_list:[]}}),null===(r=t.$refs.submitForm)||void 0===r||r.clearValidate()}))},changeVideoList:function(e){this.editorVideoLists.push(e)},getLabels:function(){var e=this;return Object(c["p"])({page:1,pageSize:9999}).then((function(t){var r=t.data,a=r.map((function(e){return{label:e.name,value:e.id.toString()}}));e.tagLists=a}))},getList:function(){var e=this;return(this.fetchSuggestions?this.fetchSuggestions():Object(c["q"])(this.id)).then((function(t){var r,a,n,i,s=t.extra,l=s.link&&s.link.type||"target_obj",u="";e.formOptions.target_obj.item.lists.find((function(e){return e.value===l}))&&(u=l,l="target_obj"),e.from={author_name:t.author_name,editor_name:t.editor_name,target_obj:u,extra:{type:s.type,title:s.title,subtitle:s.subtitle,template_style:s.template_style||"240",cover:s.cover,intro:s.intro,tags:s.tags,keywords:s.keywords,publish_timer:{status:(null!==(r=null===s||void 0===s||null===(a=s.publish_timer)||void 0===a?void 0:a.status)&&void 0!==r?r:"0").toString(),publish_at:null!==(n=null===s||void 0===s||null===(i=s.publish_timer)||void 0===i?void 0:i.publish_at)&&void 0!==n?n:""},set_created_at:s.set_created_at,content:s.content,is_original:(s.is_original||"1").toString(),source:s.source,use_watermarks:s.use_watermarks||"",allow_comment:(s.allow_comment||"0").toString(),allow_share:(s.allow_share||"1").toString(),trans_to_audio:(s.trans_to_audio||"1").toString(),view_base_num:s.view_base_num,praise_base_num:s.praise_base_num,post_base_num:s.post_base_num,custom_rec:s.custom_rec||[],video_extra:{video_list:s.video_extra&&s.video_extra.video_list||[]},album_extra:{image_list:s.album_extra&&s.album_extra.image_list||[]},link:{type:l,id:s.link&&s.link.id||"",url:s.link&&s.link.url||""}}},e.editorVideoLists=Object(o["a"])(s.video_extra&&s.video_extra.video_list||[])}))},getEditorPerson:function(){var e=this;Object(c["n"])({id:this.id,type:"news"}).then((function(t){e.editorPerson=t.length<2?"":t.join()}))},getData:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getList();case 2:e.handleTabChange(),e.$nextTick((function(){e.editorInit=!0}));case 4:case"end":return t.stop()}}),t)})))()}}},g=h,v=(r("aa5f"),r("4ac2")),_=Object(v["a"])(g,a,n,!1,null,null,null);t["a"]=_.exports},"2ab73":function(e,t,r){"use strict";r("e18c");var a=r("f753"),n=r.n(a),i=r("b705"),o=r("a18c"),s=n.a.create({baseURL:"http://10.30.10.125",timeout:6e4});s.interceptors.request.use((function(e){return e.headers.Authorization=sessionStorage.getItem("token"),e}),(function(e){return Object(i["Message"])({showClose:!0,message:e,duration:5e3,type:"error.data.error.message"}),Promise.reject(e.data.error.message)})),s.interceptors.response.use((function(e){return 200==e.data.code||"true"===e.headers.success?e.data:(Object(i["Message"])({showClose:!0,message:e.data.msg||decodeURI(e.headers.msg),type:"error"}),e.data.data&&e.data.data.reload&&(sessionStorage.removeItem("token"),o["c"].push("/login")),Promise.reject(e.data.msg))}),(function(e){return Object(i["Message"])({showClose:!0,message:e,type:"error"}),Promise.reject(e)}))},"31dc":function(e,t,r){e.exports=r.p+"static/img/1402-222.bdb2b7c8.png"},3746:function(e,t,r){"use strict";r("ea38")},"48c5":function(e,t,r){e.exports=r.p+"static/img/1402-230.ad860dd5.png"},"4e52":function(e,t,r){e.exports=r.p+"static/img/1402-205.85451c9a.png"},5552:function(e,t,r){},5837:function(e,t,r){},"5a2d":function(e,t,r){e.exports=r.p+"static/img/1402-200.4003f04c.png"},"641c":function(e,t,r){e.exports=r.p+"static/img/1402-220.eb6d8b9e.png"},7680:function(e,t,r){e.exports=r.p+"static/img/1402-202.12cf8660.png"},"7a2d":function(e,t,r){"use strict";r("5837")},"84ea":function(e,t,r){e.exports=r.p+"static/img/1402-231.e2c5c65a.png"},9795:function(e,t,r){var a={"./1402-200.png":"5a2d","./1402-201.png":"a98c","./1402-202.png":"7680","./1402-203.png":"dc2d","./1402-204.png":"dd6a","./1402-205.png":"4e52","./1402-206.png":"fe4c","./1402-210.png":"b9f9","./1402-211.png":"a656","./1402-212.png":"e21b","./1402-220.png":"641c","./1402-221.png":"a691","./1402-222.png":"31dc","./1402-230.png":"48c5","./1402-231.png":"84ea","./1402-240.png":"1cfd"};function n(e){var t=i(e);return r(t)}function i(e){if(!r.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}n.keys=function(){return Object.keys(a)},n.resolve=i,e.exports=n,n.id="9795"},"992f":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"xl-review-news"},[r("div",{staticClass:"search"},[r("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0}},[r("el-form-item",{attrs:{label:"新闻标题:",prop:"keyword"}},[r("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入关键字",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.keyword,callback:function(t){e.$set(e.queryParams,"keyword",t)},expression:"queryParams.keyword"}})],1),r("el-form-item",{attrs:{label:"发布栏目:",prop:"channel_id"}},[r("el-cascader",{staticStyle:{width:"200px"},attrs:{filterable:"",options:e.channelsList,props:e.cascaderOption,clearable:""},model:{value:e.queryParams.channel_id,callback:function(t){e.$set(e.queryParams,"channel_id",t)},expression:"queryParams.channel_id"}})],1),r("el-form-item",{attrs:{label:"状态:",prop:"status"}},[r("el-select",{attrs:{size:"small",placeholder:"请选择状态",clearable:""},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}},e._l(e.statusOptions,(function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),r("el-form-item",{attrs:{label:"提交时间:"}},[r("el-date-picker",{attrs:{type:"daterange",align:"right",size:"small","unlink-panels":"","range-separator":"~","value-format":"yyyy-MM-dd HH:mm:ss","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":e.pickerOptions},on:{change:e.handleDateChange},model:{value:e.dateValue,callback:function(t){e.dateValue=t},expression:"dateValue"}})],1),r("el-form-item",[r("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.handleReset}},[e._v(" 重置 ")]),r("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.handleQuery}},[e._v(" 搜索 ")]),r("el-button",{attrs:{type:"primary",size:"mini",disabled:0===e.selection.length},on:{click:e.handleBatchThrough}},[e._v(" 批量通过 ")]),r("el-button",{attrs:{type:"warning",size:"mini",disabled:0===e.selection.length},on:{click:e.handleBatchReject}},[e._v(" 批量拒绝 ")])],1)],1)],1),r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{"header-cell-style":{background:"#eef1f6",color:"#606266"},data:e.tableData,border:"","tooltip-effect":"dark"},on:{"selection-change":e.handleSelectionChange}},[r("el-table-column",{attrs:{type:"selection",width:"55"}}),e.isMobile?e._e():r("el-table-column",{attrs:{label:"新闻ID",align:"center",prop:"id"}}),r("el-table-column",{attrs:{label:"新闻标题",align:"center",prop:"title","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{staticClass:"watch-detail-btn",attrs:{type:"text"},on:{click:function(r){return e.goLink(t.row)}}},[e._v(e._s(t.row.title))])]}}])}),e.isMobile?e._e():r("el-table-column",{attrs:{label:"发布栏目ID",align:"center",prop:"channel_id"}}),r("el-table-column",{attrs:{label:"发布栏目",align:"center",prop:"channel.name"}}),r("el-table-column",{attrs:{label:"状态",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.statusLabel)+" "),t.row.review_remark?r("el-popover",{attrs:{title:"拒绝原因",placement:"top",width:"200",trigger:"click",content:t.row.review_remark}},[r("i",{staticClass:"el-icon-info",staticStyle:{color:"#ccc"},attrs:{slot:"reference"},slot:"reference"})]):e._e()]}}])}),e.isMobile?e._e():r("el-table-column",{attrs:{label:"提交时间",align:"center",prop:"created_at","show-overflow-tooltip":!0}}),r("el-table-column",{attrs:{label:"操作",align:"center",width:"300"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("div",{staticClass:"verify-table-action"},[r("Iconbutton",{attrs:{icontype:"shjd",label:"进度"},on:{fatherMethod:function(r){return e.watchProgress(t.row)}}}),r("Iconbutton",{attrs:{icontype:"ckxq",label:"详情"},on:{fatherMethod:function(r){return e.goLink(t.row)}}}),0===t.row.status?r("Iconbutton",{attrs:{icontype:"shtg",label:"通过"},on:{fatherMethod:function(r){return e.handleThrough(t.row)}}}):e._e(),0===t.row.status?r("Iconbutton",{attrs:{icontype:"shjj",label:"拒绝"},on:{fatherMethod:function(r){return e.handleReject(t.row)}}}):e._e()],1)]}}])})],1),r("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],attrs:{total:e.total,page:e.queryParams.page,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"page",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),r("el-dialog",{attrs:{width:"600px",title:e.dialog.title,visible:e.dialog.show},on:{"update:visible":function(t){return e.$set(e.dialog,"show",t)}}},[r("el-form",{ref:"dialogForm",attrs:{model:e.dialog.form,rules:e.dialogRules,"label-width":"120px"}},[r("el-form-item",{attrs:{label:"拒绝原因",prop:"remark"}},[r("el-select",{attrs:{size:"small",placeholder:"请选择拒绝原因",clearable:""},model:{value:e.dialog.form.remark,callback:function(t){e.$set(e.dialog.form,"remark","string"===typeof t?t.trim():t)},expression:"dialog.form.remark"}},e._l(e.rejectLists,(function(e){return r("el-option",{key:e.id,attrs:{label:e.name,value:e.name}})})),1)],1),"自定义原因"===e.dialog.form.remark?r("el-form-item",{attrs:{label:"原因",prop:"reason"}},[r("el-input",{staticStyle:{width:"300px"},attrs:{type:"textarea",rows:6,clearable:"",size:"small"},model:{value:e.dialog.form.reason,callback:function(t){e.$set(e.dialog.form,"reason","string"===typeof t?t.trim():t)},expression:"dialog.form.reason"}})],1):e._e()],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:e.handleDialogClose}},[e._v(" 取 消 ")]),r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.handleDialogClose("confirm")}}},[e._v(" 确 定 ")])],1)],1),e.detailDialog.show&&!e.isMobile?r("el-dialog",{attrs:{width:"1200px",title:"查看",top:"20px",visible:e.detailDialog.show},on:{"update:visible":function(t){return e.$set(e.detailDialog,"show",t)}}},[r("new-detail",{attrs:{id:e.detailDialog.id,visible:e.detailDialog.show},on:{"update:visible":function(t){return e.$set(e.detailDialog,"show",t)},refresh:e.refresh}})],1):e._e(),e.detailDialog.show&&e.isMobile?r("el-dialog",{attrs:{width:"100vw",top:"0",title:"查看",visible:e.detailDialog.show},on:{"update:visible":function(t){return e.$set(e.detailDialog,"show",t)}}},[r("mobile-detail",{attrs:{id:e.detailDialog.id,visible:e.detailDialog.show},on:{"update:visible":function(t){return e.$set(e.detailDialog,"show",t)},refresh:e.refresh}})],1):e._e(),r("el-dialog",{attrs:{width:"400px",title:"审批进度",visible:e.approval.show},on:{"update:visible":function(t){return e.$set(e.approval,"show",t)}}},[r("el-steps",{attrs:{direction:"vertical",active:e.approval.active,space:100}},e._l(e.approval.lists,(function(t,a){return r("el-step",{key:t.sort,attrs:{title:t.title,description:t.description}},[r("div",{attrs:{slot:"description"},slot:"description"},[r("div",[e._v(e._s(0===a?"提交人":"审核人")+": "+e._s(t.name))]),t.remark?r("p",[e._v("拒绝原因: "+e._s(t.remark))]):e._e()])])})),1)],1)],1)},n=[],i=r("1c03"),o=(r("2eeb"),r("053b"),r("9302"),r("3466"),r("e35a"),r("0d7a"),r("dbb3"),r("b130"),r("90aa"),r("e18c"),r("1c2e"),r("b4fb"),r("4194"),r("0fea")),s=r("cc48"),l=r("0191"),u=r("1d6e"),c=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-container",{staticClass:"xl-mobile-news"},[e.editorPerson?r("el-header",{staticClass:"xl-mobile-news--header",attrs:{height:"auto"}},[r("span",{staticStyle:{color:"#409eff","margin-right":"10px"}},[e._v(e._s(e.editorPerson))]),e._v(" 当前正在编辑该文稿 ")]):e._e(),r("el-main",{staticStyle:{padding:"10px 0"}},[r("el-tabs",{staticClass:"xl-mobile-news--tab",on:{"tab-click":function(t){return e.handleTabChange("tab")}},model:{value:e.from.extra.type,callback:function(t){e.$set(e.from.extra,"type",t)},expression:"from.extra.type"}},e._l(e.tabs,(function(t){return r("el-tab-pane",{key:t.value,attrs:{disabled:e.disabled,label:t.label,name:t.value}})})),1),r("el-form",{ref:"submitForm",staticStyle:{"max-height":"600px",overflow:"auto","background-color":"#fff",padding:"10px 10px"},attrs:{"label-width":"70px",size:"small",model:e.from,rules:e.currentTabsFromRules}},[r("el-form-item",e._b({directives:[{name:"show",rawName:"v-show",value:e.initFrom().includes("extra.title"),expression:"initFrom().includes('extra.title')"}]},"el-form-item",e.formOptions["extra.title"].item.props,!1),[r("el-input",e._b({attrs:{value:e.parseObj(e.formOptions["extra.title"].item),clearable:"",size:"small"},on:{input:function(t){return e.handleInput(t,e.formOptions["extra.title"].item)}}},"el-input",e.formOptions["extra.title"].item.componentProps,!1))],1),r("el-form-item",e._b({directives:[{name:"show",rawName:"v-show",value:e.initFrom().includes("extra.keywords"),expression:"initFrom().includes('extra.keywords')"}]},"el-form-item",e.formOptions["extra.keywords"].item.props,!1),[r("tag",{attrs:{value:e.parseObj(e.formOptions["extra.keywords"].item)},on:{input:function(t){return e.handleInput(t,e.formOptions["extra.keywords"].item)}}})],1),r("el-form-item",e._b({directives:[{name:"show",rawName:"v-show",value:e.initFrom().includes("extra.content"),expression:"initFrom().includes('extra.content')"}]},"el-form-item",e.formOptions["extra.content"].item.props,!1),[e.editorInit?r("editor",{attrs:{value:e.parseObj(e.formOptions["extra.content"].item)},on:{input:function(t){return e.handleInput(t,e.formOptions["extra.content"].item)},changeVideoList:e.changeVideoList}}):e._e()],1)],1)],1),r("el-footer",{staticClass:"xl-mobile-news--footer",attrs:{height:"40px"}},[r("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.handleClose}},[e._v(" 关闭 ")]),r("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.handleSave}},[e._v(" 保存 ")]),0===e.status?r("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.handleThrough}},[e._v(" 通过 ")]):e._e(),0===e.status?r("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.handleReject}},[e._v(" 拒绝 ")]):e._e()],1)],1)},m=[],p=r("99a5"),d=r("190b"),f=r("46d3"),b=(r("6a61"),r("513c"),r("15d9"),r("98e0"),r("96db"),r("6db4"),r("156b")),h=r("0d9b"),g={props:{id:{type:[Number,String],required:!0},disabled:{type:Boolean,default:!1}},components:{Editor:b["a"],Tag:h["a"]},data:function(){return{editorPerson:"",formOptions:Object.freeze({"extra.title":{item:{key:"extra.title",props:{label:"标题:",prop:"extra.title"},component:"input",componentProps:{placeholder:"请输入新闻标题"}},rule:[{required:!0,message:"请输入新闻标题",trigger:"blur"}]},"extra.keywords":{item:{key:"extra.keywords",props:{label:"关键词:"},component:"tag"}},"extra.content":{item:{key:"extra.content",props:{label:"编辑器:",prop:"extra.content"},component:"edit"},rule:[{required:!0,message:"请输入编辑器内容",trigger:"blur"}]},target_obj:{item:{key:"target_obj",props:{label:"链接对象:",prop:"target_obj"},component:"radio",lists:[{label:"看电视",value:"tv"},{label:"听广播",value:"radio"}]},rule:[{required:!0,message:"请选择链接对象",trigger:"change"}]}}),tabs:[{label:"图文",value:"news"},{label:"视频",value:"video"},{label:"图集",value:"album"},{label:"外链",value:"outer_link"}],currentTabsFromRules:{},from:{extra:{type:"news",title:"",keywords:"",content:""}},editorVideoLists:[],editorInit:!1,status:0}},methods:{parseObj:function(e){var t=e.key.split("."),r=t.reduce((function(e,t){return e[t]}),this.from);return"select"===e.component?r&&r.toString().split(","):r},handleInput:function(e,t){var r=t.key.split("."),a=t.type||"string";"number"===a&&(e=parseInt(e)||""),r.reduce((function(a,n){if(n!==r[r.length-1])return a[n];a[n]="select"===t.component?e.join():e}),this.from)},initFrom:function(){var e=[],t=["extra.title","extra.keywords"];switch(this.from.extra.type){case"news":e=[].concat(t,["extra.content"]);break;default:e=[].concat(t)}return e},delEditorVideo:function(e){var t=document.createElement("div");t.innerHTML=e;var r=Array.from(t.querySelectorAll("video"));return r.length?this.editorVideoLists.filter((function(e){return r.find((function(t){return t.title===e.title&&t.cover===e.poster}))})):[]},handleTabChange:function(e){var t=this,r=this.initFrom();this.currentTabsFromRules=r.reduce((function(e,r){return Object(i["a"])(Object(i["a"])({},e),{},Object(f["a"])({},r,t.formOptions[r].rule))}),{}),this.$nextTick((function(){var r;"tab"===e&&Object.assign(t.from.extra,{video_extra:{video_list:[]}}),null===(r=t.$refs.submitForm)||void 0===r||r.clearValidate()}))},changeVideoList:function(e){this.editorVideoLists.push(e)},handleSave:function(){var e=this;this.$refs.submitForm.validate((function(t){t&&("news"===e.from.extra.type&&(e.from.extra.video_extra={video_list:e.delEditorVideo(e.from.extra.content)}),Object(s["d"])(e.id,e.from).then((function(){e.$message.success("保存草稿成功!"),e.$emit("refresh"),e.handleClose()})))}))},handleThrough:function(){var e=this,t=this.id,r=this.from;this.$refs.submitForm.validate((function(a){a&&Object(s["d"])(t,r).then((function(){Object(s["f"])({ids:t,status:1}).then((function(){e.$emit("refresh"),e.handleClose()}))}))}))},handleReject:function(){var e=this,t=this.id;this.$prompt("请输入拒绝原因","拒绝",{confirmButtonText:"确定",cancelButtonText:"取消",customClass:"promptClass",inputValidator:function(e){return null!=e&&""!==e.trim()},inputErrorMessage:"请输入拒绝原因"}).then((function(r){var a=r.value;Object(s["f"])({ids:t,status:2,remark:a.trim()}).then((function(){e.$message.success("拒绝成功"),e.$emit("refresh"),e.handleClose()}))})).catch((function(){e.$message({type:"info",message:"取消输入"})}))},getEditorPerson:function(){var e=this;Object(s["n"])({id:this.id,type:"news"}).then((function(t){e.editorPerson=t.length<2?"":t.join()}))},handleClose:function(){this.$emit("update:visible",!1)},getList:function(){var e=this;return Object(s["q"])(this.id).then((function(t){var r=t.extra;e.status=t.status,e.from={author_name:t.author_name,editor_name:t.editor_name,extra:r},e.editorVideoLists=Object(d["a"])(r.video_extra&&r.video_extra.video_list||[])}))},getData:function(){var e=this;return Object(p["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getList();case 2:e.handleTabChange(),e.$nextTick((function(){e.editorInit=!0}));case 4:case"end":return t.stop()}}),t)})))()}},created:function(){var e=this,t=setInterval((function(){e.getEditorPerson()}),8e3);this.$once("hook:beforeDestroy",(function(){clearInterval(t)})),this.getData()}},v=g,_=(r("7a2d"),r("4ac2")),x=Object(_["a"])(v,c,m,!1,null,null,null),w=x.exports,O={name:"ReviewNews",components:{NewDetail:u["a"],mobileDetail:w},data:function(){return{statusOptions:[{label:"全部",value:""},{label:"已审核",value:1},{label:"待审核",value:0},{label:"已拒绝",value:2}],queryParams:{keyword:"",channel_id:"",startdate:"",status:0,enddate:"",pageSize:10,page:1},total:0,loading:!1,dateValue:"",pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,r=new Date;r.setTime(r.getTime()-6048e5),e.$emit("pick",[r,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,r=new Date;r.setTime(r.getTime()-2592e6),e.$emit("pick",[r,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,r=new Date;r.setTime(r.getTime()-7776e6),e.$emit("pick",[r,t])}}]},tableData:[],selection:[],cascaderOption:{checkStrictly:!0,emitPath:!1,value:"id",label:"name",multiple:!1},channelsList:[],rejectLists:[],dialog:{show:!1,title:"通过",form:{ids:"",status:2,reason:"",remark:""}},dialogRules:{remark:{required:!0,message:"请选择拒绝原因",trigger:"change"},reason:{required:!0,message:"请输入自定义原因",trigger:"change"}},detailDialog:{show:!1,id:""},approval:{show:!1,active:"",lists:[]},userLists:[]}},created:function(){this.getChannels(),this.getRejectList(),this.getList(),this.getUserList()},methods:{getUserList:function(){var e=this;Object(o["Bb"])({model:"User",page:1,pageSize:9999}).then((function(t){var r=t.data;e.userLists=r.map((function(e){var t=e.id,r=e.name;return{id:t,name:r}}))}))},handleThrough:function(e){var t=this,r=e.id;Object(s["f"])({ids:r,status:1}).then((function(){t.$message({message:"审核通过成功",type:"success"}),t.getList()}))},handleBatchThrough:function(){var e=this;Object(s["f"])({ids:this.selection.join(),status:1}).then((function(){e.$message({message:"批量审核通过成功",type:"success"}),e.getList()}))},handleReject:function(e){var t=this,r=e.id;Object.assign(this.dialog,{show:!0,title:"拒绝",form:{ids:r,status:2,remark:""}}),this.$nextTick((function(){var e;null===(e=t.$refs.dialogForm)||void 0===e||e.clearValidate()}))},handleBatchReject:function(){var e=this;Object.assign(this.dialog,{show:!0,title:"批量拒绝",form:{ids:this.selection.join(),status:2,remark:""}}),this.$nextTick((function(){var t;null===(t=e.$refs.dialogForm)||void 0===t||t.clearValidate()}))},watchProgress:function(e){var t=this,r=e.multi_review||[];if(0===r.length)return this.$message.warning("暂无审批进度");this.approval={show:!0,active:r.findIndex((function(e){return 1===e.status||2===e.status}))+1,lists:r.map((function(e){var r,a=e.reviewer_ids.split(",");return Object(i["a"])(Object(i["a"])({},e),{},{name:t.userLists.filter((function(t){return e.user_id?t.id===e.user_id:a.includes(t.id.toString())})).map((function(e){return e.name})).join(),title:"".concat(null===(r=t.statusOptions.find((function(t){return e.status===t.value})))||void 0===r?void 0:r.label,"   ").concat(e.time||"")})}))}},handleDateChange:function(e){var t=e||["",""];this.queryParams.startdate=t[0],this.queryParams.enddate=t[1]},handleQuery:function(){this.queryParams.page=1,this.getList()},handleReset:function(){this.dateValue="",Object.assign(this.queryParams,{startdate:"",enddate:"",page:1}),this.resetForm("queryForm")},goLink:function(e){var t=e.id;this.detailDialog={id:t,show:!0}},refresh:function(){this.getList(),this.dialog.id=""},handleDialogClose:function(e){var t=this;"confirm"===e?this.$refs.dialogForm.validate((function(e){if(e){var r=Object(i["a"])({},t.dialog.form);"自定义原因"===r.remark&&(r.remark=r.reason,delete r.reason),Object(s["f"])(r).then((function(){t.$message({message:"".concat(t.dialog.title,"成功"),type:"success"}),t.getList()})).finally((function(){t.dialog.show=!1}))}})):this.dialog.show=!1},handleSelectionChange:function(e){this.selection=e.map((function(e){return e.id}))},getList:function(){var e=this;this.loading=!0,this.selection=[],this.tableData=[];var t=Object(i["a"])(Object(i["a"])({},this.queryParams),{},{reviewer_id:this.$store.state.user.u_info.id});Object(s["r"])(this.removePropertyOfNullFor0(t)).then((function(t){var r;e.tableData=(t.data||[]).map((function(t){var a;return r=null===(a=e.statusOptions.find((function(e){return e.value===t.status})))||void 0===a?void 0:a.label,Object(i["a"])(Object(i["a"])({},t),{},{statusLabel:r})})),e.total=t.total})).finally((function(){e.loading=!1}))},getRejectList:function(){var e=this;Object(l["n"])({pageSize:9999,page:1,apply_to:"1"}).then((function(t){e.rejectLists=[{id:"98998989",name:"自定义原因"}].concat(t.data||[])}))},getChannels:function(){var e=this;Object(o["pb"])().then((function(t){e.channelsList=t}))}}},y=O,j=(r("3746"),Object(_["a"])(y,a,n,!1,null,"3a0c27c8",null));t["default"]=j.exports},a656:function(e,t,r){e.exports=r.p+"static/img/1402-211.f8b57eb1.png"},a691:function(e,t,r){e.exports=r.p+"static/img/1402-221.90d4e924.png"},a98c:function(e,t,r){e.exports=r.p+"static/img/1402-201.d761e3cb.png"},aa5f:function(e,t,r){"use strict";r("5552")},b60c:function(e,t,r){"use strict";r("e18c");var a=r("f753"),n=r.n(a),i=r("b705"),o=r("a18c"),s=n.a.create({baseURL:"http://10.30.10.1/adm/fusion",timeout:5e3});s.interceptors.request.use((function(e){return e.headers.Authorization=sessionStorage.getItem("token"),e}),(function(e){return Object(i["Message"])({showClose:!0,message:e,duration:5e3,type:"error.data.error.message"}),Promise.reject(e.data.error.message)})),s.interceptors.response.use((function(e){return 200==e.data.code||"true"===e.headers.success?e.data:(Object(i["Message"])({showClose:!0,message:e.data.msg||decodeURI(e.headers.msg),type:"error"}),e.data.data&&e.data.data.reload&&(sessionStorage.removeItem("token"),o["c"].push("/login")),Promise.reject(e.data.msg))}),(function(e){return Object(i["Message"])({showClose:!0,message:e,type:"error"}),Promise.reject(e)})),t["a"]=s},b9f9:function(e,t,r){e.exports=r.p+"static/img/1402-210.9fc2bc1e.png"},cc48:function(e,t,r){"use strict";r.d(t,"t",(function(){return n})),r.d(t,"h",(function(){return i})),r.d(t,"n",(function(){return o})),r.d(t,"g",(function(){return s})),r.d(t,"k",(function(){return l})),r.d(t,"a",(function(){return u})),r.d(t,"c",(function(){return c})),r.d(t,"w",(function(){return m})),r.d(t,"s",(function(){return p})),r.d(t,"d",(function(){return d})),r.d(t,"j",(function(){return f})),r.d(t,"q",(function(){return b})),r.d(t,"r",(function(){return h})),r.d(t,"x",(function(){return g})),r.d(t,"e",(function(){return v})),r.d(t,"f",(function(){return _})),r.d(t,"o",(function(){return x})),r.d(t,"p",(function(){return w})),r.d(t,"i",(function(){return O})),r.d(t,"l",(function(){return y})),r.d(t,"b",(function(){return j})),r.d(t,"y",(function(){return k})),r.d(t,"m",(function(){return F})),r.d(t,"u",(function(){return S})),r.d(t,"v",(function(){return P}));var a=r("b775");function n(e){return Object(a["a"])({url:"/api/scripts/",method:"get",params:e})}function i(e,t){return Object(a["a"])({url:"/api/scripts/duplicate/".concat(e),method:"post",data:t})}function o(e){return Object(a["a"])({url:"/api/news/checkEditors",method:"get",params:e})}function s(e,t){return Object(a["a"])({url:"/api/scripts/".concat(e||""),method:e?"patch":"post",data:t})}function l(e){return Object(a["a"])({url:"/api/scripts/".concat(e),method:"delete"})}function u(e,t){return Object(a["a"])({url:"/api/scripts/".concat(e),method:"patch",data:t})}function c(e){return Object(a["a"])({url:"/api/scripts/pushScriptsToChannel",method:"post",data:e})}function m(e){return Object(a["a"])({url:"/api/scripts/pullAll/".concat(e),method:"post"})}function p(e){return Object(a["a"])({url:"/api/scripts/".concat(e),method:"get"})}function d(e,t){return Object(a["a"])({url:"/api/news/".concat(e),method:"patch",data:t})}function f(e){return Object(a["a"])({url:"/api/news/".concat(e),method:"delete"})}function b(e){return Object(a["a"])({url:"/api/news/".concat(e),method:"get"})}function h(e){return Object(a["a"])({url:"/api/news",method:"get",params:e})}function g(e){return Object(a["a"])({url:"/api/news/setTop",method:"post",data:e})}function v(e){return Object(a["a"])({url:"/api/news/setSort",method:"post",data:e})}function _(e){return Object(a["a"])({url:"/api/news/setStatus",method:"post",data:e})}function x(e){return Object(a["a"])({url:"/api/operationLogs",methods:"get",params:e})}function w(e){return Object(a["a"])({url:"/api/tags",method:"get",params:e})}function O(e){return Object(a["a"])({url:"/api/tags/".concat(e),method:"delete"})}function y(e,t){return Object(a["a"])({url:"/api/tags/".concat(e),method:"patch",data:t})}function j(e){return Object(a["a"])({url:"/api/tags",method:"post",params:e})}function k(e){return Object(a["a"])(e)}function F(e,t){return Object(a["a"])({url:t?"/api/resources/myResources":"/api/resources",method:"get",params:e})}function S(e){return Object(a["a"])({url:"/api/videos/vms_channels",method:"get",params:e})}function P(e){return Object(a["a"])({url:"/api/videos",method:"get",params:e})}},dc2d:function(e,t,r){e.exports=r.p+"static/img/1402-203.c56ffd4a.png"},dd6a:function(e,t,r){e.exports=r.p+"static/img/1402-204.4307cd3c.png"},e21b:function(e,t,r){e.exports=r.p+"static/img/1402-212.af2ef322.png"},ea38:function(e,t,r){},fe4c:function(e,t,r){e.exports=r.p+"static/img/1402-206.7d6de951.png"}}]);