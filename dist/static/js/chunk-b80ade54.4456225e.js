(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b80ade54"],{"0385":function(e,t,r){"use strict";r("b130"),r("90aa"),r("e18c");var a=r("f753"),o=r.n(a),n=r("b705"),i=r("a18c"),s=r("5f87"),l=r("5041"),u=o.a.create({baseURL:l["d"],timeout:5e3});u.interceptors.request.use((function(e){return sessionStorage.getItem("token")&&Object(s["d"])()&&!e.url.includes("/api/authorizations/refresh")?new Promise((function(t){o()({url:"/api/authorizations/refresh",method:"post",baseURL:"/",timeout:5e3,headers:{Authorization:sessionStorage.getItem("token")}}).then((function(r){if(console.log(r.data),200===r.status){var a=r.data,o=a.token_type+" "+a.access_token,n=(new Date).getTime();sessionStorage.setItem("token",o),sessionStorage.setItem("tokenQueryTime",n),e.headers.Authorization=o,t(e)}else sessionStorage.removeItem("token"),i["c"].push({path:"/login"})})).catch((function(){sessionStorage.removeItem("token"),i["c"].push({path:"/login"})}))})):(e.headers.Authorization=sessionStorage.getItem("token"),e)}),(function(e){return Object(n["Message"])({showClose:!0,message:e,duration:5e3,type:"error.data.error.message"}),Promise.reject(e.data.error.message)})),u.interceptors.response.use((function(e){var t=(new Date).getTime();return sessionStorage.setItem("tokenQueryTime",t),200==e.data.code||"true"===e.headers.success?e.data:(Object(n["Message"])({showClose:!0,message:e.data.msg||decodeURI(e.headers.msg),type:"error"}),e.data.data&&e.data.data.reload&&(sessionStorage.removeItem("token"),i["c"].push("/login")),Promise.reject(e.data.msg))}),(function(e){return Object(n["Message"])({showClose:!0,message:e,type:"error"}),Promise.reject(e)})),t["a"]=u},"05ac":function(e,t,r){"use strict";r("fee8")},"0fea":function(e,t,r){"use strict";r.d(t,"zb",(function(){return i})),r.d(t,"o",(function(){return s})),r.d(t,"pb",(function(){return l})),r.d(t,"X",(function(){return u})),r.d(t,"T",(function(){return c})),r.d(t,"Nb",(function(){return d})),r.d(t,"s",(function(){return p})),r.d(t,"ub",(function(){return m})),r.d(t,"db",(function(){return f})),r.d(t,"U",(function(){return h})),r.d(t,"lc",(function(){return b})),r.d(t,"y",(function(){return g})),r.d(t,"Xb",(function(){return v})),r.d(t,"Cb",(function(){return y})),r.d(t,"x",(function(){return x})),r.d(t,"xb",(function(){return _})),r.d(t,"G",(function(){return w})),r.d(t,"fb",(function(){return O})),r.d(t,"V",(function(){return j})),r.d(t,"qc",(function(){return k})),r.d(t,"z",(function(){return S})),r.d(t,"rc",(function(){return P})),r.d(t,"A",(function(){return q})),r.d(t,"mc",(function(){return $})),r.d(t,"t",(function(){return A})),r.d(t,"vb",(function(){return I})),r.d(t,"tc",(function(){return L})),r.d(t,"nc",(function(){return C})),r.d(t,"hc",(function(){return z})),r.d(t,"q",(function(){return V})),r.d(t,"rb",(function(){return N})),r.d(t,"Z",(function(){return F})),r.d(t,"Ub",(function(){return T})),r.d(t,"Sb",(function(){return U})),r.d(t,"h",(function(){return D})),r.d(t,"kb",(function(){return E})),r.d(t,"J",(function(){return R})),r.d(t,"ic",(function(){return B})),r.d(t,"p",(function(){return M})),r.d(t,"qb",(function(){return J})),r.d(t,"Y",(function(){return Q})),r.d(t,"m",(function(){return H})),r.d(t,"N",(function(){return W})),r.d(t,"yc",(function(){return G})),r.d(t,"ec",(function(){return K})),r.d(t,"nb",(function(){return Y})),r.d(t,"jc",(function(){return Z})),r.d(t,"xc",(function(){return X})),r.d(t,"fc",(function(){return ee})),r.d(t,"n",(function(){return te})),r.d(t,"ob",(function(){return re})),r.d(t,"W",(function(){return ae})),r.d(t,"kc",(function(){return oe})),r.d(t,"r",(function(){return ne})),r.d(t,"tb",(function(){return ie})),r.d(t,"cb",(function(){return se})),r.d(t,"gc",(function(){return le})),r.d(t,"ac",(function(){return ue})),r.d(t,"j",(function(){return ce})),r.d(t,"lb",(function(){return de})),r.d(t,"oc",(function(){return pe})),r.d(t,"u",(function(){return me})),r.d(t,"eb",(function(){return fe})),r.d(t,"wb",(function(){return he})),r.d(t,"pc",(function(){return be})),r.d(t,"v",(function(){return ge})),r.d(t,"sb",(function(){return ve})),r.d(t,"ab",(function(){return ye})),r.d(t,"sc",(function(){return xe})),r.d(t,"w",(function(){return _e})),r.d(t,"Db",(function(){return we})),r.d(t,"gb",(function(){return Oe})),r.d(t,"M",(function(){return je})),r.d(t,"Mb",(function(){return ke})),r.d(t,"bb",(function(){return Se})),r.d(t,"dc",(function(){return Pe})),r.d(t,"cc",(function(){return qe})),r.d(t,"l",(function(){return $e})),r.d(t,"mb",(function(){return Ae})),r.d(t,"L",(function(){return Ie})),r.d(t,"C",(function(){return Le})),r.d(t,"zc",(function(){return Ce})),r.d(t,"Zb",(function(){return ze})),r.d(t,"Yb",(function(){return Ve})),r.d(t,"hb",(function(){return Ne})),r.d(t,"Jb",(function(){return Fe})),r.d(t,"Ib",(function(){return Te})),r.d(t,"Kb",(function(){return Ue})),r.d(t,"Hb",(function(){return De})),r.d(t,"Qb",(function(){return Ee})),r.d(t,"Pb",(function(){return Re})),r.d(t,"f",(function(){return Be})),r.d(t,"F",(function(){return Me})),r.d(t,"S",(function(){return Je})),r.d(t,"Bb",(function(){return Qe})),r.d(t,"B",(function(){return He})),r.d(t,"Ob",(function(){return We})),r.d(t,"e",(function(){return Ge})),r.d(t,"jb",(function(){return Ke})),r.d(t,"R",(function(){return Ye})),r.d(t,"Wb",(function(){return Ze})),r.d(t,"yb",(function(){return Xe})),r.d(t,"i",(function(){return et})),r.d(t,"Tb",(function(){return tt})),r.d(t,"Eb",(function(){return rt})),r.d(t,"a",(function(){return at})),r.d(t,"Fb",(function(){return ot})),r.d(t,"E",(function(){return nt})),r.d(t,"O",(function(){return it})),r.d(t,"Ab",(function(){return st})),r.d(t,"D",(function(){return lt})),r.d(t,"Vb",(function(){return ut})),r.d(t,"b",(function(){return ct})),r.d(t,"wc",(function(){return dt})),r.d(t,"P",(function(){return pt})),r.d(t,"Gb",(function(){return mt})),r.d(t,"c",(function(){return ft})),r.d(t,"vc",(function(){return ht})),r.d(t,"Q",(function(){return bt})),r.d(t,"bc",(function(){return gt})),r.d(t,"Rb",(function(){return vt})),r.d(t,"g",(function(){return yt})),r.d(t,"I",(function(){return xt})),r.d(t,"k",(function(){return _t})),r.d(t,"K",(function(){return wt})),r.d(t,"Lb",(function(){return Ot})),r.d(t,"H",(function(){return jt})),r.d(t,"uc",(function(){return kt})),r.d(t,"d",(function(){return St})),r.d(t,"ib",(function(){return Pt}));r("b4fb");var a=r("b775"),o=r("b60c"),n=r("0385");r("2ab73");function i(){return Object(a["a"])({url:"/api/permissions/getAllPermissions",method:"get"})}function s(e){return Object(a["a"])({url:"/api/permissions",method:"post",params:e})}function l(e,t){return Object(a["a"])({url:"/api/permissions/"+e,method:"patch",params:t})}function u(e){return Object(a["a"])({url:"/api/permissions/"+e,method:"delete"})}function c(e){return Object(a["a"])({url:"/api/permissions/deletePermissions",method:"post",params:{ids:e}})}function d(e){return Object(a["a"])({url:"/api/system/data",method:"get",params:e})}function p(e){return Object(a["a"])({url:"/api/roles",method:"post",params:e})}function m(e,t){return Object(a["a"])({url:"/api/roles/"+e,method:"patch",params:t})}function f(e){return Object(a["a"])({url:"/api/roles/"+e,method:"delete"})}function h(e){return Object(a["a"])({url:"/api/roles/deleteRoles",method:"post",params:{ids:e}})}function b(e){return Object(a["a"])({url:"/api/roles/"+e+"/permission",method:"get"})}function g(e,t){return Object(a["a"])({url:"/api/roles/"+e+"/assignPermission",method:"post",params:{permissions:t}})}function v(e){return Object(a["a"])({url:"/api/system/data",method:"get",params:e})}function y(e){return Object(a["a"])({url:"/api/channels",method:"get",params:e})}function x(e){return Object(a["a"])({url:"/api/users",method:"post",data:e})}function _(e,t){return Object(a["a"])({url:"/api/user/"+e,method:"patch",data:t})}function w(e,t){return Object(a["a"])({url:"/api/users/setStatus",method:"post",params:{ids:e,status:t}})}function O(e){return Object(a["a"])({url:"/api/user/"+e,method:"delete"})}function j(e){return Object(a["a"])({url:"/api/user/deleteUsers",method:"post",params:{ids:e}})}function k(e){return Object(a["a"])({url:"/api/user/"+e+"/permission",method:"get"})}function S(e,t){return Object(a["a"])({url:"/api/user/"+e+"/assignPermission",method:"post",params:{permissions:t}})}function P(e){return Object(a["a"])({url:"/api/user/"+e+"/roles",method:"get"})}function q(e,t){return Object(a["a"])({url:"/api/user/"+e+"/assignRole",method:"post",params:{roles:t}})}function $(e){return Object(a["a"])({url:"/api/sites",method:"get",params:e})}function A(e){return Object(a["a"])({url:"/api/sites",method:"post",data:e})}function I(e,t){return Object(a["a"])({url:"/api/sites/"+e,method:"patch",data:t})}function L(){return Object(a["a"])({url:"/api/zones",method:"get"})}function C(e){return Object(a["a"])({url:"/api/sites/"+e,method:"get"})}function z(e){return Object(a["a"])({url:"/api/products",method:"get",params:e})}function V(e){return Object(a["a"])({url:"/api/products",method:"post",data:e})}function N(e,t){return Object(a["a"])({url:"/api/products/"+e,method:"patch",data:t})}function F(e){return Object(a["a"])({url:"/api/products/"+e,method:"delete"})}function T(e){return Object(a["a"])({url:"/api/sync_settings",method:"get",params:e})}function U(){return Object(a["a"])({url:"/api/sync_settings/info",method:"get"})}function D(e){return Object(a["a"])({url:"/api/sync_settings",method:"post",data:e})}function E(e,t){return Object(a["a"])({url:"/api/sync_settings/"+e,method:"patch",data:t})}function R(e){return Object(a["a"])({url:"/api/sync_settings/"+e,method:"delete"})}function B(e){return Object(a["a"])({url:"/api/product_versions",method:"get",params:e})}function M(e){return Object(a["a"])({url:"/api/product_versions",method:"post",data:e})}function J(e,t){return Object(a["a"])({url:"/api/product_versions/"+e,method:"patch",data:t})}function Q(e){return Object(a["a"])({url:"/api/product_versions/"+e,method:"delete"})}function H(e){return Object(a["a"])({url:"/api/channels",method:"post",data:e})}function W(e){return Object(a["a"])({url:"/api/channels/"+e,method:"delete"})}function G(e){return Object(a["a"])({url:"/api/channels/setSort",method:"post",data:e})}function K(e){return Object(a["a"])({url:"/api/channels/"+e,method:"get"})}function Y(e,t){return Object(a["a"])({url:"/api/channels/"+e,method:"patch",data:t})}function Z(e){return Object(a["a"])({url:"/api/news/recycleBin",method:"get",params:e})}function X(e){return Object(a["a"])({url:"/api/news/restore",method:"post",params:{ids:e}})}function ee(e){return Object(a["a"])({url:"/api/categories",method:"get",params:e})}function te(e){return Object(a["a"])({url:"/api/categories",method:"post",data:e})}function re(e,t){return Object(a["a"])({url:"/api/categories/"+e,method:"patch",data:t})}function ae(e){return Object(a["a"])({url:"/api/categories/"+e,method:"delete"})}function oe(e){return Object(a["a"])({url:"/api/resources",method:"get",params:e})}function ne(e){return Object(a["a"])({url:"/api/resources",method:"post",data:e})}function ie(e,t){return Object(a["a"])({url:"/api/resources/"+e,method:"post",data:t})}function se(e){return Object(a["a"])({url:"/api/resources/"+e,method:"delete"})}function le(e){return Object(a["a"])({url:"/api/resources/myResources",method:"get",params:e})}function ue(e){return Object(a["a"])({url:"/api/cloud_vms_channels",method:"get",params:e})}function ce(e){return Object(a["a"])({url:"/api/cloud_vms_channels",method:"post",data:e})}function de(e,t){return Object(a["a"])({url:"/api/cloud_vms_channels/"+e,method:"patch",data:t})}function pe(e){return Object(a["a"])({url:"/api/channels/getSpecialChannels",method:"get",params:e})}function me(e){return Object(a["a"])({url:"/api/channels",method:"post",data:e})}function fe(e){return Object(a["a"])({url:"/api/channels/"+e,method:"delete"})}function he(e,t){return Object(a["a"])({url:"/api/channels/"+e,method:"patch",data:t})}function be(e){return Object(a["a"])({url:"/api/programs",method:"get",params:e})}function ge(e){return Object(a["a"])({url:"/api/programs",method:"post",data:e})}function ve(e,t){return Object(a["a"])({url:"/api/programs/"+e,method:"patch",data:t})}function ye(e){return Object(a["a"])({url:"/api/programs/"+e,method:"delete"})}function xe(e){return Object(a["a"])({url:"/api/videos/vms_channels/?cloud=".concat(e),method:"get"})}function _e(e){return Object(a["a"])({url:"/api/channels",method:"post",data:e})}function we(e){return Object(a["a"])({url:"/api/channels/".concat(e,"/getChild"),method:"get"})}function Oe(e,t){return Object(a["a"])({url:"/api/channels/"+e,method:"patch",data:t})}function je(e){return Object(a["a"])({url:"/api/channels/"+e,method:"delete"})}function ke(e){return Object(a["a"])({url:"/api/replays/getReplaysByChannel",method:"get",params:e})}function Se(e){return Object(a["a"])({url:"/api/replays/"+e,method:"delete"})}function Pe(e){return Object(a["a"])({url:"/api/broadcasts/".concat(e),method:"get"})}function qe(e,t){return Object(a["a"])({url:"/api/broadcastStatement?broadcast_id=".concat(e,"&stream_id=").concat(t),method:"get"})}function $e(e){return Object(a["a"])({url:"/api/broadcastStatement",method:"post",data:e})}function Ae(e,t){return Object(a["a"])({url:"/api/broadcastStatement/".concat(e),method:"patch",data:t})}function Ie(e){return Object(a["a"])({url:"/api/broadcastStatement/"+e,method:"delete"})}function Le(){return Object(o["a"])({url:"/catalog/list",method:"get"})}function Ce(e){return Object(o["a"])({url:"/style/catalogCodeStyle",method:"post",data:e})}function ze(e){return Object(o["a"])({url:"/internal/uc/queryUserList",method:"post",data:e})}function Ve(e){return Object(o["a"])({url:"/internal/uc/queryUserInfo",method:"get",params:e})}function Ne(e){return Object(o["a"])({url:"/internal/uc/updateUserInfo",method:"post",data:e})}function Fe(e){return Object(o["a"])({url:"/internal/uc/queryInvitationcodeList",method:"post",data:e})}function Te(e){return Object(o["a"])({url:"/intranet/uc/queryInvitationCountDatas",method:"post",data:e})}function Ue(e){return Object(o["a"])({url:"/internal/uc/queryLoginLogList",method:"post",data:e})}function De(e){return Object(o["a"])({url:"/internal/points/queryPointsLog",method:"post",data:e})}function Ee(e){return Object(o["a"])({url:"/internal/uc/qeurySrcretList",method:"post",data:e})}function Re(e){return Object(o["a"])({url:"/internal/uc/querySrcretSet",method:"post",data:e})}function Be(e){return Object(o["a"])({url:"/internal/uc/addSrcretSet",method:"post",data:e})}function Me(e){return Object(o["a"])({url:"/internal/uc/updateSrcretSet",method:"post",data:e})}function Je(e){return Object(o["a"])({url:"/internal/uc/deleteSrcretSet",method:"post",data:e})}function Qe(e){return Object(n["a"])({url:"/new/intranet/comment/getNoTalkUserList/page",method:"post",data:e})}function He(e){return Object(n["a"])({url:"/new/intranet/comment/cancelNoTalkUser",method:"post",data:e})}function We(e){return Object(o["a"])({url:"/internal/points/getRuleList",method:"post",data:e})}function Ge(e){return Object(o["a"])({url:"/internal/points/ruleSave",method:"post",data:e})}function Ke(e){return Object(o["a"])({url:"/internal/points/ruleUpdate",method:"post",data:e})}function Ye(e){return Object(o["a"])({url:"/internal/points/ruleDelete",method:"post",data:e})}function Ze(){return Object(o["a"])({url:"/internal/points/rule/typelist",method:"get"})}function Xe(){return Object(o["a"])({url:"/internal/points/rule/actionlist",method:"get"})}function et(e){return Object(o["a"])({url:"/internal/points/pointLoginCreate",method:"post",data:e})}function tt(e){return Object(o["a"])({url:"/internal/points/pointLoginList",method:"post",data:e})}function rt(e){return Object(a["a"])({url:"/api/departments",method:"get",params:e})}function at(e){return Object(a["a"])({url:"/api/departments",method:"post",data:e})}function ot(e){return Object(a["a"])({url:"/api/departments/"+e,method:"get"})}function nt(e,t){return Object(a["a"])({url:"/api/departments/".concat(e),method:"patch",data:t})}function it(e){return Object(a["a"])({url:"/api/departments/".concat(e),method:"delete"})}function st(e){return Object(a["a"])({url:"/api/products/".concat(e),method:"get"})}function lt(e,t){return Object(a["a"])({url:"/api/products/".concat(e),method:"patch",data:t})}function ut(){return Object(a["a"])({url:"/api/upload/getH5Dir",method:"get"})}function ct(e){return Object(a["a"])({url:"/api/upload/mkdir",method:"post",data:e})}function dt(e){return Object(a["a"])({url:"/api/upload/mkdir",method:"post",data:e})}function pt(e){return Object(a["a"])({url:"/api/upload/rmdir",method:"post",data:e})}function mt(e){return Object(a["a"])({url:"/api/h5",method:"get",params:e})}function ft(e){return Object(a["a"])({url:"/api/h5",method:"post",data:e})}function ht(e,t){return Object(a["a"])({url:"/api/h5/".concat(e),method:"post",data:t})}function bt(e){return Object(a["a"])({url:"/api/h5/".concat(e),method:"delete"})}function gt(e){return Object(n["a"])({url:"/sensitive/whitetxt/list",method:"get",params:e})}function vt(e){return Object(n["a"])({url:"/sensitive/setting/list",method:"get",params:e})}function yt(e){return Object(n["a"])({url:"/sensitive/setting/add",method:"post",data:e})}function xt(e){return Object(n["a"])({url:"/sensitive/setting/del",method:"DELETE",data:e})}function _t(e){return Object(n["a"])({url:"/sensitive/whitetxt/add",method:"post",data:e})}function wt(e){return Object(n["a"])({url:"/sensitive/whitetxt/del",method:"DELETE",data:e})}function Ot(e){return Object(o["a"])({url:"/publish/list",method:"post",data:e})}function jt(e){return Object(o["a"])({url:"/publish/delete?id=".concat(e),method:"post"})}function kt(e){return Object(o["a"])({url:"/meal/openList",method:"post",data:e})}function St(e){return Object(o["a"])({url:"/publish/setPublish",method:"post",data:e})}function Pt(e){return Object(o["a"])({url:"/publish/update",method:"post",data:e})}},"2ab73":function(e,t,r){"use strict";r("e18c");var a=r("f753"),o=r.n(a),n=r("b705"),i=r("a18c"),s=r("5041"),l=o.a.create({baseURL:s["b"],timeout:6e4});l.interceptors.request.use((function(e){return e.headers.Authorization=sessionStorage.getItem("token"),e}),(function(e){return Object(n["Message"])({showClose:!0,message:e,duration:5e3,type:"error.data.error.message"}),Promise.reject(e.data.error.message)})),l.interceptors.response.use((function(e){return 200==e.data.code||"true"===e.headers.success?e.data:(Object(n["Message"])({showClose:!0,message:e.data.msg||decodeURI(e.headers.msg),type:"error"}),e.data.data&&e.data.data.reload&&(sessionStorage.removeItem("token"),i["c"].push("/login")),Promise.reject(e.data.msg))}),(function(e){return Object(n["Message"])({showClose:!0,message:e,type:"error"}),Promise.reject(e)}))},"7d74":function(e,t,r){e.exports=r.p+"static/img/product.cc055642.png"},8190:function(e,t,r){},"8e42":function(e,t,r){},a057:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"product"},[r("div",{directives:[{name:"show",rawName:"v-show",value:1==e.showpage,expression:"showpage==1"}]},[r("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0}},[r("el-form-item",{attrs:{label:"产品名称："}},[r("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入关键字",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.name,callback:function(t){e.$set(e.queryParams,"name",t)},expression:"queryParams.name"}})],1),r("el-form-item",{attrs:{label:"产品类型："}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.queryParams.type,callback:function(t){e.$set(e.queryParams,"type",t)},expression:"queryParams.type"}},e._l(e.productoptions,(function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),r("el-form-item",[r("el-button",{directives:[{name:"points",rawName:"v-points",value:1500,expression:"1500"}],attrs:{type:"primary",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),r("el-button",{directives:[{name:"points",rawName:"v-points",value:1500,expression:"1500"}],attrs:{type:"primary",size:"mini"},on:{click:e.initcondition}},[e._v("重置")]),r("el-button",{directives:[{name:"points",rawName:"v-points",value:1500,expression:"1500"}],attrs:{type:"primary",size:"mini"},on:{click:e.adddata}},[e._v("新增")])],1)],1),r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{"header-cell-style":{background:"#eef1f6",color:"#606266"},border:"",data:e.dataList}},[r("el-table-column",{attrs:{label:"产品id",width:"100px",align:"center",prop:"id"}}),r("el-table-column",{attrs:{label:"产品LOGO",width:"150px",align:"center",prop:"extra.logo","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[r("img",{staticStyle:{width:"50px",height:"50px","border-radius":"50%"},attrs:{src:t.row.extra.logo||e.productavatar,alt:""}})]}}])}),r("el-table-column",{attrs:{label:"产品名称",align:"center",prop:"name","show-overflow-tooltip":!0}}),r("el-table-column",{attrs:{label:"产品类型",align:"center",prop:"type","show-overflow-tooltip":!0}}),r("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"created_at","show-overflow-tooltip":!0}}),r("el-table-column",{attrs:{label:"上次修改时间",align:"center",prop:"updated_at","show-overflow-tooltip":!0}}),r("el-table-column",{attrs:{width:"280px",label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("Iconbutton",{attrs:{icontype:"xg",label:"修改"},on:{fatherMethod:function(r){return e.editdata(t.row)}}}),r("Iconbutton",{attrs:{icontype:"sc",label:"删除"},on:{fatherMethod:function(r){return e.deldata(t.row)}}}),r("Iconbutton",{attrs:{icontype:"appbbgl",label:"版本"},on:{fatherMethod:function(r){return e.changepage(t.row)}}})]}}])})],1),r("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],attrs:{total:e.total,page:e.queryParams.page,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"page",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}})],1),2==e.showpage?r("Appversion",{attrs:{appname:e.appname,page2id:e.page2id}}):e._e(),r("el-dialog",{attrs:{width:"1200px","close-on-click-modal":!1,title:e.dialogTitle,top:"10vh",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[r("el-form",{ref:"dataForm",staticStyle:{display:"flex"},attrs:{model:e.form,rules:e.rules}},[r("div",{staticClass:"fl",staticStyle:{width:"50%"}},[r("el-form-item",{attrs:{"label-width":"150px",label:"产品名称",prop:"name"}},[r("el-input",{staticStyle:{width:"350px"},attrs:{autocomplete:"off",placeholder:"请输入产品名称"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),r("el-form-item",{attrs:{"label-width":"150px",label:"产品类型",prop:"type"}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},e._l(e.productoptions,(function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),r("el-form-item",{attrs:{"label-width":"150px",label:"source_id",prop:"source_id"}},[r("el-input",{staticStyle:{width:"350px"},attrs:{autocomplete:"off",placeholder:"请输入source_id"},model:{value:e.form.source_id,callback:function(t){e.$set(e.form,"source_id",t)},expression:"form.source_id"}})],1),r("el-form-item",{attrs:{"label-width":"150px",label:"产品LOGO：",prop:"extra.logo"}},[r("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.VUE_APP_BASE_API+"/api/upload/image",headers:e.importHeaders,name:"image","show-file-list":!1,"on-success":e.handleAvatarSuccess.bind(this,"logo"),"before-upload":e.beforeAvatarUpload}},[e.form.extra.logo?r("img",{staticClass:"avatar",attrs:{src:e.form.extra.logo}}):r("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),r("el-form-item",{attrs:{"label-width":"150px",label:"深色背景Logo",prop:"extra.logo_dark"}},[r("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.VUE_APP_BASE_API+"/api/upload/image",headers:e.importHeaders,name:"image","show-file-list":!1,"on-success":e.handleAvatarSuccess.bind(this,"logo_dark"),"before-upload":e.beforeAvatarUpload}},[e.form.extra.logo_dark?r("img",{staticClass:"avatar",attrs:{src:e.form.extra.logo_dark}}):r("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),r("el-form-item",{attrs:{"label-width":"150px",label:"产品简介",prop:"extra.introduction"}},[r("el-input",{staticStyle:{width:"350px"},attrs:{autocomplete:"off",placeholder:"请输入产品简介",autosize:{minRows:4},type:"textarea"},model:{value:e.form.extra.introduction,callback:function(t){e.$set(e.form.extra,"introduction",t)},expression:"form.extra.introduction"}})],1),r("el-form-item",{attrs:{"label-width":"150px",label:"评论控制",prop:"extra.comment_control"}},[r("el-radio-group",{model:{value:e.form.extra.comment_control,callback:function(t){e.$set(e.form.extra,"comment_control",t)},expression:"form.extra.comment_control"}},[r("el-radio",{attrs:{label:"0"}},[e._v("先审后发")]),r("el-radio",{attrs:{label:"1"}},[e._v("先发后审")]),r("el-radio",{attrs:{label:"2"}},[e._v("禁止评论")])],1)],1),r("el-form-item",{attrs:{"label-width":"150px",label:"热门搜索词",prop:"extra.hot_search"}},[e._l(e.form.extra.hot_search,(function(t,a){return r("el-tag",{key:t+a,attrs:{closable:"","disable-transitions":!1},on:{close:function(r){return e.handleClose(t)}}},[e._v(" "+e._s(t)+" ")])})),e.inputVisible?r("el-input",{ref:"saveTagInput",staticClass:"input-new-tag",attrs:{size:"small"},on:{blur:e.handleInputConfirm},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleInputConfirm(t)}},model:{value:e.inputValue,callback:function(t){e.inputValue=t},expression:"inputValue"}}):r("el-button",{directives:[{name:"points",rawName:"v-points",value:1500,expression:"1500"}],staticClass:"button-new-tag",attrs:{size:"small"},on:{click:e.showInput}},[e._v("+ 新增")])],2)],1),r("div",{staticClass:"fr",staticStyle:{width:"50%"}},[r("el-form-item",{attrs:{"label-width":"150px",label:"个推秘钥",prop:"bluecore_mastersecret"}},[r("el-input",{staticStyle:{width:"200px"},attrs:{autocomplete:"off",placeholder:"请输入个推秘钥"},model:{value:e.form.bluecore_mastersecret,callback:function(t){e.$set(e.form,"bluecore_mastersecret",t)},expression:"form.bluecore_mastersecret"}})],1),r("el-form-item",{attrs:{"label-width":"150px",label:"蓝核APPkey",prop:"bluecore_appkey"}},[r("el-input",{staticStyle:{width:"200px"},attrs:{autocomplete:"off",placeholder:"请输入蓝核APPkey"},model:{value:e.form.bluecore_appkey,callback:function(t){e.$set(e.form,"bluecore_appkey",t)},expression:"form.bluecore_appkey"}})],1),r("el-form-item",{attrs:{"label-width":"150px",label:"蓝核APPID",prop:"bluecore_appid"}},[r("el-input",{staticStyle:{width:"200px"},attrs:{autocomplete:"off",placeholder:"请输入蓝核APPID"},model:{value:e.form.bluecore_appid,callback:function(t){e.$set(e.form,"bluecore_appid",t)},expression:"form.bluecore_appid"}})],1),r("el-form-item",{attrs:{"label-width":"150px",label:"协议版本",prop:"extra.policy.version"}},[r("el-input",{staticStyle:{width:"200px"},attrs:{autocomplete:"off",placeholder:"请输入（版本由数字与点组成，如1.0.1）"},on:{input:function(t){return e.updateView(t)}},model:{value:e.form.extra.policy.version,callback:function(t){e.$set(e.form.extra.policy,"version",t)},expression:"form.extra.policy.version"}}),r("el-button",{directives:[{name:"points",rawName:"v-points",value:1500,expression:"1500"},{name:"show",rawName:"v-show",value:"add"!=e.dialogType,expression:"dialogType!='add'"}],staticStyle:{"margin-left":"20px"},attrs:{type:"primary",size:"small"},on:{click:function(t){e.innerVisible=!0}}},[e._v("查看历史版本")])],1),r("el-form-item",{attrs:{"label-width":"150px",label:"弹窗详情",prop:"extra.policy.intro"}},[r("el-input",{staticStyle:{width:"350px"},attrs:{autocomplete:"off",placeholder:"请输入",autosize:{minRows:4},type:"textarea"},on:{input:function(t){return e.updateView(t)}},model:{value:e.form.extra.policy.intro,callback:function(t){e.$set(e.form.extra.policy,"intro",t)},expression:"form.extra.policy.intro"}})],1),r("el-form-item",{attrs:{"label-width":"150px",label:"用户协议链接",prop:"extra.policy.privacy_policy"}},[r("el-input",{staticStyle:{width:"350px"},attrs:{autocomplete:"off",placeholder:"请输入链接"},on:{input:function(t){return e.updateView(t)}},model:{value:e.form.extra.policy.privacy_policy,callback:function(t){e.$set(e.form.extra.policy,"privacy_policy",t)},expression:"form.extra.policy.privacy_policy"}})],1),r("el-form-item",{attrs:{"label-width":"150px",label:"隐私政策链接",prop:"extra.policy.user_policy"}},[r("el-input",{staticStyle:{width:"350px"},attrs:{autocomplete:"off",placeholder:"请输入链接"},on:{input:function(t){return e.updateView(t)}},model:{value:e.form.extra.policy.user_policy,callback:function(t){e.$set(e.form.extra.policy,"user_policy",t)},expression:"form.extra.policy.user_policy"}})],1),r("el-form-item",{attrs:{"label-width":"150px",label:"是否开启社区",prop:"extra.enable_community"}},[r("el-radio-group",{model:{value:e.form.extra.enable_community,callback:function(t){e.$set(e.form.extra,"enable_community",t)},expression:"form.extra.enable_community"}},[r("el-radio",{attrs:{label:"1"}},[e._v("是")]),r("el-radio",{attrs:{label:"0"}},[e._v("否")])],1)],1),r("el-form-item",{attrs:{"label-width":"150px",label:"社区评论设置",prop:"extra.community_comment"}},[r("el-radio-group",{model:{value:e.form.extra.community_comment,callback:function(t){e.$set(e.form.extra,"community_comment",t)},expression:"form.extra.community_comment"}},[r("el-radio",{attrs:{label:"0"}},[e._v("先审后发")]),r("el-radio",{attrs:{label:"1"}},[e._v("先发后审")]),r("el-radio",{attrs:{label:"2"}},[e._v("禁止评论")])],1)],1)],1)]),r("el-dialog",{attrs:{width:"1000px",title:"历史版本",visible:e.innerVisible,"append-to-body":""},on:{"update:visible":function(t){e.innerVisible=t}}},[r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.innertableData,"header-cell-style":{background:"#eef1f6",color:"#606266"},border:""}},[r("el-table-column",{attrs:{prop:"version",align:"center",label:"协议版本"}}),r("el-table-column",{attrs:{align:"center",prop:"intro",label:"弹窗详情"}}),r("el-table-column",{attrs:{align:"center",prop:"user_policy",label:"user_policy"}}),r("el-table-column",{attrs:{align:"center",prop:"privacy_policy",label:"隐私政策协议接口"}})],1)],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{directives:[{name:"points",rawName:"v-points",value:1500,expression:"1500"}],on:{click:e.closeDialog}},[e._v("取 消")]),r("el-button",{directives:[{name:"points",rawName:"v-points",value:1500,expression:"1500"}],attrs:{type:"primary"},on:{click:e.enterDialog}},[e._v("确 定")])],1)],1)],1)},o=[],n=(r("ea69"),r("053b"),r("77ad"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"appversion"},[r("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0}},[r("el-form-item",{attrs:{label:"终端"}},[r("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:e.queryParams.platform,callback:function(t){e.$set(e.queryParams,"platform",t)},expression:"queryParams.platform"}},e._l(e.platformoptions,(function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),r("el-form-item",{attrs:{label:"版本："}},[r("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入版本号",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.version_code,callback:function(t){e.$set(e.queryParams,"version_code",t)},expression:"queryParams.version_code"}})],1),r("el-form-item",[r("el-button",{directives:[{name:"points",rawName:"v-points",value:1500,expression:"1500"}],attrs:{type:"primary",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),r("el-button",{directives:[{name:"points",rawName:"v-points",value:1500,expression:"1500"}],attrs:{type:"info",size:"mini"},on:{click:e.initcondition}},[e._v("重置")]),r("el-button",{directives:[{name:"points",rawName:"v-points",value:1500,expression:"1500"}],attrs:{type:"primary",size:"mini"},on:{click:e.adddata}},[e._v("新增")]),r("el-button",{directives:[{name:"points",rawName:"v-points",value:1500,expression:"1500"}],attrs:{type:"primary",size:"mini"},on:{click:e.back}},[e._v("返回上一级")])],1)],1),r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{"margin-top":"20px"},attrs:{"header-cell-style":{background:"#eef1f6",color:"#606266"},border:"",data:e.dataList}},[r("el-table-column",{attrs:{label:"ID",width:"100px",align:"center",prop:"id"}}),r("el-table-column",{attrs:{label:"应用名称",width:"100px",align:"center",prop:"name"}}),r("el-table-column",{attrs:{label:"应用LOGO",width:"150px",align:"center",prop:"logo","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(e){return[r("img",{staticStyle:{width:"50px",height:"50px","border-radius":"50%"},attrs:{src:e.row.logo,alt:""}})]}}])}),r("el-table-column",{attrs:{label:"终端",align:"center",prop:"platform","show-overflow-tooltip":!0}}),r("el-table-column",{attrs:{label:"版本",align:"center",prop:"version_code","show-overflow-tooltip":!0}}),r("el-table-column",{attrs:{label:"下载地址",align:"center",prop:"url","show-overflow-tooltip":!0}}),r("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"created_at","show-overflow-tooltip":!0}}),r("el-table-column",{attrs:{width:"200px",label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("Iconbutton",{attrs:{icontype:"xg",label:"修改"},on:{fatherMethod:function(r){return e.editdata(t.row)}}}),r("Iconbutton",{attrs:{icontype:"sc",label:"删除"},on:{fatherMethod:function(r){return e.deldata(t.row)}}})]}}])})],1),r("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],attrs:{total:e.total,page:e.queryParams.page,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"page",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),r("el-dialog",{attrs:{width:"800px","close-on-click-modal":!1,title:e.dialogTitle,top:"2vh",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[r("el-form",{ref:"dataForm",attrs:{model:e.form,rules:e.rules}},[r("el-form-item",{attrs:{"label-width":"150px",label:"应用名称：",prop:"name"}},[r("el-input",{staticStyle:{width:"350px"},attrs:{disabled:"",autocomplete:"off",placeholder:"请输入产品名称"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),r("el-form-item",{attrs:{"label-width":"150px",label:"应用Logo:",prop:"logo"}},[r("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.VUE_APP_BASE_API+"/api/upload/image",headers:e.importHeaders,name:"image","show-file-list":!1,"on-success":e.handleAvatarSuccess.bind(this,"logo"),"before-upload":e.beforeAvatarUpload}},[e.form.logo?r("img",{staticClass:"avatar",attrs:{src:e.form.logo}}):r("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),r("el-form-item",{attrs:{"el-form-item":"","label-width":"150px",label:"终端：",prop:"platform"}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.platform,callback:function(t){e.$set(e.form,"platform",t)},expression:"form.platform"}},e._l(e.platformoptions,(function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),r("el-form-item",{attrs:{"label-width":"150px",label:"WEB"==e.form.platform?"web版本":"Android"==e.form.platform?"安卓版本：":"ios版本：",prop:"version_code"}},[r("el-input",{staticStyle:{width:"350px"},attrs:{autocomplete:"off",placeholder:"请输入产品名称"},model:{value:e.form.version_code,callback:function(t){e.$set(e.form,"version_code",t)},expression:"form.version_code"}})],1),r("el-form-item",{attrs:{"label-width":"150px",label:"应用介绍：",prop:"intro"}},[r("el-input",{staticStyle:{width:"350px"},attrs:{autocomplete:"off",placeholder:"请输入应用介绍",autosize:{minRows:4},type:"textarea"},model:{value:e.form.intro,callback:function(t){e.$set(e.form,"intro",t)},expression:"form.intro"}})],1),r("el-form-item",{attrs:{"label-width":"150px",label:"新特性：",prop:"new_features"}},[r("el-input",{staticStyle:{width:"350px"},attrs:{autocomplete:"off",placeholder:"请输入应用介绍",autosize:{minRows:4},type:"textarea"},model:{value:e.form.new_features,callback:function(t){e.$set(e.form,"new_features",t)},expression:"form.new_features"}})],1),"WEB"!=e.form.platform?r("el-form-item",{attrs:{"label-width":"150px",label:"是否强制更新：",prop:"status"}},[r("el-radio-group",{model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},[r("el-radio",{attrs:{label:0}},[e._v("不启用")]),r("el-radio",{attrs:{label:1}},[e._v("不强更")]),r("el-radio",{attrs:{label:2}},[e._v("强更")])],1)],1):e._e(),r("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"Android"!=e.form.platform,expression:"form.platform!='Android'"}],attrs:{"label-width":"150px",label:"WEB"==e.form.platform?"链接：":"APP Store链接：",prop:"url"}},[r("el-input",{staticStyle:{width:"500px"},attrs:{autocomplete:"off",placeholder:"请输入"},model:{value:e.form.url,callback:function(t){e.$set(e.form,"url",t)},expression:"form.url"}})],1),"Android"==e.form.platform?r("el-form-item",{attrs:{"label-width":"150px",label:"Android APK包：",prop:"url2"}},[e.dialogFormVisible?r("uploadfile",{model:{value:e.form.url2,callback:function(t){e.$set(e.form,"url2",t)},expression:"form.url2"}}):e._e()],1):e._e()],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{directives:[{name:"points",rawName:"v-points",value:1500,expression:"1500"}],on:{click:e.closeDialog}},[e._v("取 消")]),r("el-button",{directives:[{name:"points",rawName:"v-points",value:1500,expression:"1500"}],attrs:{type:"primary"},on:{click:e.enterDialog}},[e._v("确 定")])],1)],1)],1)}),i=[],s=(r("513c"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-input",{staticStyle:{width:"500px"},attrs:{autocomplete:"off",disabled:"",placeholder:""},model:{value:e.getvalue,callback:function(t){e.getvalue=t},expression:"getvalue"}}),r("el-upload",{staticClass:"upload-demo",staticStyle:{display:"inline","margin-left":"20px"},attrs:{action:e.actionUrl,headers:e.uploadHeader,name:"image","before-upload":e.handleBeforeUpload,"before-remove":e.beforeRemove,"on-change":e.onChange,limit:2,"file-list":e.fileList,"on-success":e.handleUploadSuccess}},[r("el-button",{directives:[{name:"points",rawName:"v-points",value:1500,expression:"1500"}],attrs:{size:"small",type:"primary"}},[e._v("新增")])],1)],1)}),l=[],u=(r("e35a"),r("0d7a"),{props:{value:String},data:function(){return{fileList:[],getvalue:this.value}},created:function(){this.getvalue&&(this.fileList[0]={},this.fileList[0].url=this.getvalue,this.fileList[0].name=this.getvalue.split("/")[this.getvalue.split("/").length-1])},computed:{actionUrl:function(){return this.imgurl},uploadHeader:function(){var e=sessionStorage.getItem("token");return{Authorization:e}}},methods:{beforeRemove:function(){this.$emit("input",""),this.getvalue=""},handleBeforeUpload:function(e){},onChange:function(e,t){t.length>0&&(this.fileList=[t[t.length-1]])},handleUploadSuccess:function(e,t,r){e.status_code>=200&&e.status_code<300?(this.$message.success("上传成功!"),this.$emit("input",e.path),this.getvalue=e.path):(this.$message.error(e.message),r.length=0)}}}),c=u,d=r("cba8"),p=Object(d["a"])(c,s,l,!1,null,"918c2c48",null),m=p.exports,f=r("0fea"),h={name:"appversion",components:{uploadfile:m},props:{page2id:{type:Number,default:0},appname:{type:String,default:""}},data:function(){var e=sessionStorage.getItem("token");return{importHeaders:{Authorization:e},statusoptions:[{value:1,label:"启用"},{value:0,label:"禁用"}],platformoptions:[{value:"ANDROID",label:"ANDROID"},{value:"IOS",label:"IOS"},{value:"WEB",label:"WEB"}],loading:!1,form:{},dataList:[],rules:{logo:[{required:!0,message:"请选择应用logo",trigger:"blur"}],platform:[{required:!0,message:"请选择终端",trigger:"blur"}],version_code:[{required:!0,message:"请选择app版本",trigger:"blur"}],new_features:[{required:!0,message:"请输入新特性",trigger:"blur"}],status:[{required:!0,message:"请选择是否要强制更新",trigger:"blur"}]},queryParams:{page:1,pageSize:10,version_code:"",platform:"",product_id:this.page2id},dialogTitle:"",dialogType:"",total:0,dialogFormVisible:!1}},created:function(){this.initForm(),this.getList()},computed:{VUE_APP_BASE_API:function(){return this.imgurl2}},methods:{initcondition:function(){this.queryParams.version_code="",this.queryParams.platform=""},handleQuery:function(){console.log(this.page2id),this.loading=!0,this.queryParams.page=1,this.getList()},handleAvatarSuccess:function(e,t){console.log(t),this.form[e]=t.path,this.$forceUpdate()},beforeAvatarUpload:function(e){var t=e.size/1024/1024<20;return t||this.$message.error("上传头像图片大小不能超过 20MB!"),t},beforeRemove:function(){this.form.url2=""},back:function(){this.$parent.showpage=1},getList:function(){var e=this;this.loading=!0,Object(f["ic"])(this.queryParams).then((function(t){e.loading=!1,e.dataList=t.data,e.total=t.total}))},deldata:function(e){var t=this;console.log(e),this.$confirm("此操作将永久删除id为"+e.id+"的版本, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(f["Y"])(e.id).then((function(e){t.$message({message:"删除成功",type:"success"}),t.getList()}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},initForm:function(){this.$refs.dataForm&&this.$refs.dataForm.resetFields(),this.form={product_id:this.page2id,name:this.appname,platform:"Android",version_code:"",logo:"",status:0,url:"",url2:"",apk:"",new_features:"",intro:""}},adddata:function(){this.initForm(),this.dialogTitle="新增版本",this.dialogType="add",this.dialogFormVisible=!0},editdata:function(e){this.initForm(),this.dialogTitle="编辑版本",this.dialogType="edit",this.form=JSON.parse(JSON.stringify(e)),"Android"==this.form.platform&&(this.form.url2=this.form.url,this.form.url=""),this.dialogFormVisible=!0},closeDialog:function(){this.initForm(),this.dialogFormVisible=!1},enterDialog:function(){var e=this;this.$refs["dataForm"].validate((function(t){if(t){var r=JSON.parse(JSON.stringify(e.form));"Android"==r.platform&&(r.url=r.url2),"edit"==e.dialogType?Object(f["qb"])(r.id,r).then((function(t){e.$message({message:"修改成功",type:"success"}),e.dialogFormVisible=!1,e.getList()})):Object(f["p"])(r).then((function(t){e.$message({message:"新增成功",type:"success"}),e.dialogFormVisible=!1,e.getList()}))}}))}}},b=h,g=(r("d5e6"),r("05ac"),Object(d["a"])(b,n,i,!1,null,"9aac192e",null)),v=g.exports,y={name:"product",components:{Appversion:v},data:function(){var e=sessionStorage.getItem("token");return{inputVisible:!1,inputValue:"",showpage:1,page2id:0,appname:"",importHeaders:{Authorization:e},productavatar:r("7d74"),innerVisible:!1,innertableData:[],queryParams:{page:1,pageSize:10,name:"",type:""},loading:!0,dataList:[],total:0,productoptions:[{value:"app",label:"App"},{value:"web",label:"网站"},{value:"wap",label:"Wap"},{value:"wechat",label:"微信"},{value:"weibo",label:"微博"},{value:"other",label:"其他"}],watermarkoptions:[{value:"nw",label:"左上"},{value:"north",label:"中上"},{value:"ne",label:"右上"},{value:"west",label:"左"},{value:"center",label:"中"},{value:"east",label:"右"},{value:"sw",label:"左下"},{value:"south",label:"中下"},{value:"se",label:"右下"}],dialogFormVisible:!1,form:{name:"",type:"",source_id:"",extra:{logo:"",logo_dark:"",introduction:"",comment_control:"0",community_comment:"0",enable_community:"1",hot_search:[]}},rules:{name:[{required:!0,message:"请输入产品姓名",trigger:"blur"}],type:[{required:!0,message:"请选择产品类型",trigger:"blur"}],source_id:[{required:!0,message:"请输入source_id",trigger:"blur"}],"extra.logo":[{required:!0,message:"请选择产品logo",trigger:"blur"}],"extra.policy.version":[{required:!0,message:"请输入协议版本",trigger:"blur"}],"extra.policy.intro":[{required:!0,message:"请输入弹窗详情",trigger:"blur"}],"extra.policy.privacy_policy":[{required:!0,message:"请输入用户协议链接",trigger:"blur"}],"extra.policy.user_policy":[{required:!0,message:"请输入隐私政策链接",trigger:"blur"}]},dialogType:"add",dialogTitle:""}},computed:{VUE_APP_BASE_API:function(){return this.imgurl2}},created:function(){this.getList(),this.initForm()},methods:{handleClose:function(e){this.form.extra.hot_search.splice(this.form.extra.hot_search.indexOf(e),1)},showInput:function(){var e=this;this.inputVisible=!0,this.$nextTick((function(t){e.$refs.saveTagInput.$refs.input.focus()}))},handleInputConfirm:function(){var e=this.inputValue;e&&(this.form.extra.hot_search||(this.form.extra.hot_search=[]),this.form.extra.hot_search.push(e)),this.inputVisible=!1,this.inputValue=""},updateView:function(e){this.$forceUpdate()},changepage:function(e){this.page2id=e.id,this.appname=e.name,this.showpage=2},handleAvatarSuccess:function(e,t){this.form.extra[e]=t.path},beforeAvatarUpload:function(e){var t=e.size/1024/1024<20;return t||this.$message.error("上传头像图片大小不能超过 20MB!"),t},initcondition:function(){this.queryParams.name="",this.queryParams.type=""},handleQuery:function(){this.loading=!0,this.queryParams.page=1,this.getList()},getList:function(){var e=this,t=JSON.parse(JSON.stringify(this.queryParams));this.removePropertyOfNull(t),Object(f["hc"])(t).then((function(t){e.loading=!1,e.dataList=t.data,e.total=t.total}))},adddata:function(){this.initForm(),this.dialogTitle="新增产品",this.dialogType="add",this.dialogFormVisible=!0},initForm:function(){this.$refs.dataForm&&this.$refs.dataForm.resetFields(),this.form={name:"",type:"",bluecore_mastersecret:"",bluecore_appkey:"",bluecore_appid:"",extra:{logo:"",logo_dark:"",introduction:"",comment_control:"0",community_comment:"0",enable_community:"1",hot_search:[],user_settings:{deny_register:"0",deny_modify:"0",deny_OAuth:"0"},policy:{version:"",intro:"",privacy_policy:"",user_policy:"",time:""}}}},editdata:function(e){this.initForm(),this.dialogTitle="编辑产品",this.dialogType="edit",this.form=JSON.parse(JSON.stringify(e)),this.form.extra.policy_history&&(this.innertableData=this.form.extra.policy_history.slice(0,5)),console.log(this.form),this.form.extra.policy||(this.form.extra.policy={},this.form.extra.policy={version:"",intro:"",privacy_policy:"",user_policy:"",time:""}),this.form.extra.user_settings||(this.form.extra.user_settings={},this.form.extra.user_settings={deny_register:"0",deny_modify:"0",deny_OAuth:"0"}),this.dialogFormVisible=!0},deldata:function(e){var t=this;console.log(e),this.$confirm("此操作将永久删除id为"+e.id+"的产品, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(f["Z"])(e.id).then((function(e){t.$message({message:"删除成功",type:"success"}),t.getList()}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},closeDialog:function(){this.initForm(),this.dialogFormVisible=!1},enterDialog:function(){var e=this;this.$refs["dataForm"].validate((function(t){if(t)if("edit"==e.dialogType){var r=JSON.parse(JSON.stringify(e.form));console.log(r),r.extra.policy.time=(new Date).getTime(),Object(f["rb"])(r.id,r).then((function(t){e.$message({message:"修改成功",type:"success"}),e.dialogFormVisible=!1,e.getList()}))}else{r=JSON.parse(JSON.stringify(e.form));e.removePropertyOfNull(r),r.extra.policy.time=(new Date).getTime(),console.log(r),Object(f["q"])(r).then((function(t){e.$message({message:"新建成功",type:"success"}),e.dialogFormVisible=!1,e.getList()}))}}))}}},x=y,_=(r("ffd9"),r("fd29"),Object(d["a"])(x,a,o,!1,null,"68c35ffa",null));t["default"]=_.exports},b60c:function(e,t,r){"use strict";r("b130"),r("90aa"),r("e18c");var a=r("f753"),o=r.n(a),n=r("b705"),i=r("a18c"),s=r("5f87"),l=r("5041"),u=o.a.create({baseURL:l["c"],timeout:5e3});u.interceptors.request.use((function(e){return sessionStorage.getItem("token")&&Object(s["d"])()&&!e.url.includes("/api/authorizations/refresh")?new Promise((function(t){o()({url:"/api/authorizations/refresh",method:"post",baseURL:"/",timeout:5e3,headers:{Authorization:sessionStorage.getItem("token")}}).then((function(r){if(console.log(r.data),200===r.status){var a=r.data,o=a.token_type+" "+a.access_token,n=(new Date).getTime();sessionStorage.setItem("token",o),sessionStorage.setItem("tokenQueryTime",n),e.headers.Authorization=o,t(e)}else sessionStorage.removeItem("token"),i["c"].push({path:"/login"})})).catch((function(){sessionStorage.removeItem("token"),i["c"].push({path:"/login"})}))})):(e.headers.Authorization=sessionStorage.getItem("token"),e)}),(function(e){return Object(n["Message"])({showClose:!0,message:e,duration:5e3,type:"error.data.error.message"}),Promise.reject(e.data.error.message)})),u.interceptors.response.use((function(e){var t=(new Date).getTime();return sessionStorage.setItem("tokenQueryTime",t),200==e.data.code||"true"===e.headers.success?e.data:(Object(n["Message"])({showClose:!0,message:e.data.msg||decodeURI(e.headers.msg),type:"error"}),e.data.data&&e.data.data.reload&&(sessionStorage.removeItem("token"),i["c"].push("/login")),Promise.reject(e.data.msg))}),(function(e){return Object(n["Message"])({showClose:!0,message:e,type:"error"}),Promise.reject(e)})),t["a"]=u},b846:function(e,t,r){},d5e6:function(e,t,r){"use strict";r("8190")},fd29:function(e,t,r){"use strict";r("8e42")},fee8:function(e,t,r){},ffd9:function(e,t,r){"use strict";r("b846")}}]);